<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>å°é¢å”¯ä¸€æ€§æµ‹è¯•</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: #0a0a0a;
      color: #fff;
    }
    .game-card {
      display: inline-block;
      width: 230px;
      margin: 10px;
      padding: 10px;
      background: #1a1a1a;
      border: 1px solid #00ffff;
      border-radius: 8px;
      text-align: center;
    }
    .game-card img {
      width: 100%;
      height: auto;
      border-radius: 4px;
    }
    .game-card h4 {
      font-size: 14px;
      margin: 10px 0 5px;
      color: #00ffff;
    }
    .game-card p {
      font-size: 12px;
      color: #aaa;
      margin: 5px 0;
    }
    .stats {
      padding: 20px;
      background: #1a1a1a;
      border: 2px solid #00ffff;
      border-radius: 8px;
      margin-bottom: 20px;
    }
    .stats h2 {
      color: #00ffff;
    }
  </style>
</head>
<body>
  <div class="stats">
    <h2>ğŸ“Š æ¸¸æˆæ•°æ®åº“ç»Ÿè®¡</h2>
    <p id="totalGames">æ€»æ¸¸æˆæ•°: åŠ è½½ä¸­...</p>
    <p id="uniqueCovers">å”¯ä¸€å°é¢æ•°: åŠ è½½ä¸­...</p>
    <p id="duplicates">é‡å¤å°é¢æ•°: åŠ è½½ä¸­...</p>
  </div>

  <h2>ğŸ® å‰20æ¬¾æ¸¸æˆå°é¢å±•ç¤º</h2>
  <div id="gameList"></div>

  <script src="mega-game-database.js"></script>
  <script>
    const games = window.megaGameDB.getAllGames();
    
    // ç»Ÿè®¡å”¯ä¸€æ€§
    const covers = new Map();
    let duplicates = 0;
    games.forEach(g => {
      if (covers.has(g.thumbnail)) {
        duplicates++;
      } else {
        covers.set(g.thumbnail, g.name);
      }
    });
    
    // æ˜¾ç¤ºç»Ÿè®¡
    document.getElementById('totalGames').textContent = `æ€»æ¸¸æˆæ•°: ${games.length}`;
    document.getElementById('uniqueCovers').textContent = `å”¯ä¸€å°é¢æ•°: ${covers.size}`;
    document.getElementById('duplicates').textContent = `é‡å¤å°é¢æ•°: ${duplicates}`;
    
    if (duplicates === 0) {
      document.getElementById('duplicates').innerHTML = 'é‡å¤å°é¢æ•°: <span style="color: #00ff00; font-weight: bold;">0 âœ… å®Œç¾ï¼</span>';
    } else {
      document.getElementById('duplicates').innerHTML = `é‡å¤å°é¢æ•°: <span style="color: #ff0000; font-weight: bold;">${duplicates} âŒ</span>`;
    }
    
    // æ˜¾ç¤ºå‰20æ¬¾æ¸¸æˆ
    const gameList = document.getElementById('gameList');
    games.slice(0, 20).forEach((game, index) => {
      const card = document.createElement('div');
      card.className = 'game-card';
      card.innerHTML = `
        <img src="${game.thumbnail}" alt="${game.name}" onerror="this.style.border='2px solid red'">
        <h4>${index + 1}. ${game.name}</h4>
        <p>Steam ID: ${game.steamAppId || 'N/A'}</p>
        <p>è¯„åˆ†: ${game.rating}/100</p>
      `;
      gameList.appendChild(card);
    });
  </script>
</body>
</html>
