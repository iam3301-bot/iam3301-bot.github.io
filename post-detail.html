<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>GameBox æ¸¸ç›’ - å¸–å­è¯¦æƒ…</title>
  <!-- Cyberpunk Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="index.css" />
</head>
<body data-current-page="community" class="cyberpunk-theme">
<div class="page">
  <header class="header">
    <div class="header-inner">
      <a href="index.html" class="logo">
        <div class="logo-mark">G</div>
        <div>
          <div>GameBox æ¸¸ç›’</div>
          <div class="logo-sub">LIGHTWEIGHT GAME HUB</div>
        </div>
      </a>
      <nav class="nav-main">
        <a href="index.html" data-page="home" class="nav-link">é¦–é¡µ</a>
        <a href="news-list.html" data-page="news" class="nav-link">èµ„è®¯</a>
        <a href="game-library.html" data-page="library" class="nav-link">æ¸¸æˆåº“</a>
        <a href="ranking.html" data-page="ranking" class="nav-link">
          æ’è¡Œæ¦œ <span class="badge">HOT</span>
        </a>
        <a href="discount.html" data-page="discount" class="nav-link">æŠ˜æ‰£ / å²ä½</a>
        <a href="community.html" data-page="community" class="nav-link">ç¤¾åŒº</a>
        <a href="my-library.html" data-page="my" class="nav-link">æˆ‘çš„æ¸¸æˆ</a>
        <a href="tools.html" data-page="tools" class="nav-link">å·¥å…·ä¸­å¿ƒ</a>
        <a href="profile.html" data-page="profile" class="nav-link">ç”¨æˆ·ä¸­å¿ƒ</a>
      </nav>
      <div class="header-right">
        <div class="header-search">
          <input type="text" placeholder="æœç´¢æ¸¸æˆ / èµ„è®¯ / å¸–å­" />
          <span class="header-search-icon">ğŸ”</span>
        </div>
        <button class="header-user">æœªç™»å½• Â· æ¸¸å®¢</button>
      </div>
    </div>
  </header>
  
  <!-- Cyberpunk Effects -->
  <canvas id="matrix-canvas" class="matrix-bg"></canvas>
  <div id="particles-container" class="particles-container"></div>
  <div id="scroll-progress" class="scroll-progress"></div>
  <div id="loading-overlay" class="loading-overlay">
    <div class="cyberpunk-loader">
      <div class="loader-hexagon"></div>
      <div class="loader-text">LOADING...</div>
    </div>
  </div>

  <main class="main">
    <section>
      <article class="card">
        <div class="page-title">æ–°æ‰‹å…¥é—¨ï¼šå¦‚ä½•åœ¨ã€Šè‰¾å°”ç™»æ³•ç¯ã€‹ä¸­å°‘æ­»ä¸€ç‚¹ï¼ˆç¤ºä¾‹ï¼‰</div>
        <div class="page-intro">
          ç‰ˆå—ï¼šæ”»ç•¥ Â· æ¸¸æˆï¼šè‰¾å°”ç™»æ³•ç¯ Â· æ¥¼ä¸»:ç©å®¶ A
        </div>
        <div style="font-size:13px;color:var(--text-muted);line-height:1.7;margin-top:8px;">
          <p>
            
          </p>
          <p>
            1. å‰æœŸä¸è¦æ€¥ç€æŒ‘æˆ˜æ‰€æœ‰ Bossï¼Œå¯ä»¥å…ˆåœ¨å¼€æ”¾ä¸–ç•Œæ¢ç´¢ï¼Œæå‡ç­‰çº§å’Œè£…å¤‡ï¼›<br />
            2. å­¦ä¼šç¿»æ»šä¸ä½“åŠ›ç®¡ç†ï¼Œæ¯”ç›²ç›®å †æ”»å‡»æ›´é‡è¦ï¼›<br />
            3. é€‚å½“ä½¿ç”¨çµä½“å’Œé“å…·ï¼Œè¿™ä¸æ˜¯â€œä½œå¼Šâ€ï¼Œæ˜¯æ¸¸æˆè®¾è®¡çš„ä¸€éƒ¨åˆ†ã€‚
          </p>
          <p>
            
          </p>
        </div>
      </article>

      <article class="card">
        <header class="card-header">
          <div class="card-title">
            <span class="dot"></span><span>è¯„è®ºåŒº</span>
          </div>
        </header>
  
  <!-- Cyberpunk Effects -->
  <canvas id="matrix-canvas" class="matrix-bg"></canvas>
  <div id="particles-container" class="particles-container"></div>
  <div id="scroll-progress" class="scroll-progress"></div>
  <div id="loading-overlay" class="loading-overlay">
    <div class="cyberpunk-loader">
      <div class="loader-hexagon"></div>
      <div class="loader-text">LOADING...</div>
    </div>
  </div>
        <div class="comment-list" id="commentList"></div>
        <div class="form" style="margin-top:10px;">
          <div class="form-row">
            <label for="newComment">å‘è¡¨ä½ çš„çœ‹æ³•</label>
            <textarea id="newComment" placeholder="è¯´ç‚¹ä»€ä¹ˆå§â€¦â€¦"></textarea>
          </div>
          <button class="btn btn-primary btn-inline" id="btnComment">å‘è¡¨è¯„è®º</button>
          <div id="commentMsg" style="font-size:11px;color:var(--text-soft);margin-top:4px;">
            æç¤ºï¼šè¯„è®ºåªä¼šä¿å­˜åœ¨å½“å‰é¡µé¢åˆ·æ–°å‰çš„å†…å­˜ä¸­ã€‚
          </div>
        </div>
      </article>
    </section>

    <aside>
      <div class="sidebar-card">
        <div class="sidebar-title">è¿”å›</div>
        <div class="sidebar-item">
          <span class="label">å›åˆ°ç¤¾åŒº</span><span class="value"><a href="community.html">ç¤¾åŒºåˆ—è¡¨</a></span>
        </div>
      </div>
    </aside>
  </main>
</div>

<script src="common.js"></script>
<script src="cyber-effects.js"></script>
<script>
  initCommon();

  const commentListEl = document.getElementById("commentList");
  const newCommentEl = document.getElementById("newComment");
  const btnComment = document.getElementById("btnComment");
  const commentMsg = document.getElementById("commentMsg");

  let comments = [
    { author: "è·¯äººç”²", time: "ç¤ºä¾‹ Â· 1 å°æ—¶å‰", content: "å°‘è´ªåˆ€ï¼Œå¤šè§‚å¯Ÿ Boss åŠ¨ä½œã€‚" },
    { author: "è·¯äººä¹™", time: "ç¤ºä¾‹ Â· 10 åˆ†é’Ÿå‰", content: "çµé©¬å†²åˆºç»•åæˆ³å‡ åˆ€æŒºå¥½ç”¨çš„ã€‚" },
  ];

  function renderComments() {
    commentListEl.innerHTML = "";
    comments.forEach((c) => {
      const div = document.createElement("div");
      div.className = "comment-item";
      div.innerHTML = `
        <div class="comment-meta">${c.author} Â· ${c.time}</div>
        <div class="comment-content">${c.content}</div>
      `;
      commentListEl.appendChild(div);
    });
  }

  btnComment.addEventListener("click", () => {
    const text = newCommentEl.value.trim();
    if (!text) {
      commentMsg.textContent = "å†…å®¹ä¸èƒ½ä¸ºç©ºã€‚";
      return;
    }
    const user = (function(){
      try {
        const raw = localStorage.getItem("currentUser");
        if (!raw) return null;
        return JSON.parse(raw);
      } catch { return null; }
    })();
    const name = user ? (user.nickname || user.username || "å·²ç™»å½•ç©å®¶") : "æ¸¸å®¢";

    comments.push({
      author: name,
      time: "åˆšåˆšï¼ˆæœ¬åœ°ï¼‰",
      content: text,
    });
    newCommentEl.value = "";
    commentMsg.textContent = "è¯„è®ºå·²æ·»åŠ ï¼ˆä»…å½“å‰é¡µé¢æœ‰æ•ˆï¼‰ã€‚";
    renderComments();
  });

  renderComments();
</script>
</body>
</html>
