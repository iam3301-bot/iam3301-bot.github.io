<!DOCTYPE html>
<html>
<head>
  <title>封面调试</title>
  <style>
    body { background: #0a0a0a; color: #fff; font-family: monospace; padding: 20px; }
    .game { margin: 10px 0; padding: 10px; background: #1a1a1a; border: 1px solid #333; }
    img { width: 200px; height: auto; }
  </style>
</head>
<body>
  <h1>前10个游戏封面调试</h1>
  <div id="output"></div>

  <script src="mega-game-database.js"></script>
  <script>
    (async function() {
    const games = await window.megaGameDB.getAllGames();
    const output = document.getElementById('output');
    
    games.slice(0, 10).forEach((game, i) => {
      const div = document.createElement('div');
      div.className = 'game';
      
      const isSteam = game.thumbnail.includes('steamstatic.com');
      const isSVG = game.thumbnail.startsWith('data:image/svg');
      
      div.innerHTML = `
        <h3>${i+1}. ${game.name}</h3>
        <p><strong>封面类型:</strong> ${isSteam ? '✅ Steam真实封面' : isSVG ? '❌ SVG生成封面' : '❓ 未知'}</p>
        <p><strong>URL:</strong> ${game.thumbnail.substring(0, 100)}...</p>
        <img src="${game.thumbnail}" alt="${game.name}" onerror="this.style.border='2px solid red'">
      `;
      
      output.appendChild(div);
    });
    
    const steamCount = games.filter(g => g.thumbnail.includes('steamstatic.com')).length;
    const svgCount = games.filter(g => g.thumbnail.startsWith('data:image/svg')).length;
    
    const summary = document.createElement('div');
    summary.innerHTML = `
      <h2>统计</h2>
      <p>总游戏数: ${games.length}</p>
      <p>✅ Steam真实封面: ${steamCount} (${(steamCount/games.length*100).toFixed(1)}%)</p>
      <p>❌ SVG生成封面: ${svgCount} (${(svgCount/games.length*100).toFixed(1)}%)</p>
    `;
    output.insertBefore(summary, output.firstChild);
    })();
  </script>
</body>
</html>
