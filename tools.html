<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>GameBox æ¸¸ç›’ - å·¥å…·ä¸­å¿ƒ</title>
  <!-- Cyberpunk Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="index.css" />
  <style>
    /* å·¥å…·å¡ç‰‡å¢å¼ºæ ·å¼ */
    .tool-card {
      background: linear-gradient(135deg, rgba(17, 24, 39, 0.8), rgba(31, 41, 55, 0.6));
      border: 1px solid rgba(56, 189, 248, 0.3);
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 24px;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .tool-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(56, 189, 248, 0.1), transparent);
      transition: left 0.5s;
    }
    
    .tool-card:hover {
      border-color: var(--accent);
      box-shadow: 0 0 30px rgba(56, 189, 248, 0.3);
      transform: translateY(-4px);
    }
    
    .tool-card:hover::before {
      left: 100%;
    }
    
    .tool-header {
      display: flex;
      align-items: center;
      margin-bottom: 16px;
      gap: 12px;
    }
    
    .tool-icon {
      font-size: 32px;
      width: 56px;
      height: 56px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, rgba(56, 189, 248, 0.2), rgba(255, 211, 0, 0.2));
      border-radius: 12px;
      border: 2px solid rgba(56, 189, 248, 0.4);
    }
    
    .tool-info {
      flex: 1;
    }
    
    .tool-title {
      font-size: 20px;
      font-weight: 700;
      color: var(--accent);
      font-family: 'Orbitron', sans-serif;
      margin-bottom: 4px;
    }
    
    .tool-desc {
      font-size: 13px;
      color: var(--text-muted);
    }
    
    .tool-content {
      margin-top: 20px;
    }
    
    .result-box {
      margin-top: 16px;
      padding: 16px;
      background: rgba(56, 189, 248, 0.05);
      border-radius: 8px;
      border-left: 4px solid var(--accent);
      font-size: 14px;
      line-height: 1.6;
      display: none;
    }
    
    .result-box.show {
      display: block;
      animation: slideIn 0.3s ease;
    }
    
    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .form-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 16px;
      margin-bottom: 16px;
    }
    
    .input-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    
    .input-group label {
      font-size: 13px;
      font-weight: 600;
      color: var(--text-soft);
    }
    
    .input-group input,
    .input-group select {
      padding: 10px 12px;
      background: rgba(17, 24, 39, 0.6);
      border: 1px solid rgba(56, 189, 248, 0.3);
      border-radius: 6px;
      color: var(--text-main);
      font-size: 14px;
      transition: all 0.3s ease;
    }
    
    .input-group input:focus,
    .input-group select:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(56, 189, 248, 0.1);
    }
    
    .btn-tool {
      padding: 12px 32px;
      background: linear-gradient(135deg, var(--accent), #0ea5e9);
      border: none;
      border-radius: 8px;
      color: #fff;
      font-size: 14px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 1px;
      font-family: 'Orbitron', sans-serif;
    }
    
    .btn-tool:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(56, 189, 248, 0.4);
    }
    
    .btn-tool:active {
      transform: translateY(0);
    }
    
    .btn-tool:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }
    
    .game-pool {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
      gap: 12px;
      margin: 16px 0;
    }
    
    .game-tag {
      padding: 8px 12px;
      background: rgba(56, 189, 248, 0.1);
      border: 1px solid rgba(56, 189, 248, 0.3);
      border-radius: 6px;
      font-size: 12px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      color: var(--text-soft);
    }
    
    .game-tag:hover {
      background: rgba(56, 189, 248, 0.2);
      border-color: var(--accent);
      color: var(--accent);
      transform: scale(1.05);
    }
    
    .game-tag.selected {
      background: var(--accent);
      border-color: var(--accent);
      color: #000;
      font-weight: 700;
    }
    
    .price-comparison {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
      margin-top: 16px;
    }
    
    .platform-price {
      padding: 16px;
      background: rgba(17, 24, 39, 0.6);
      border: 1px solid rgba(56, 189, 248, 0.3);
      border-radius: 8px;
      text-align: center;
      transition: all 0.3s ease;
    }
    
    .platform-price:hover {
      border-color: var(--accent);
      transform: scale(1.05);
    }
    
    .platform-name {
      font-size: 14px;
      font-weight: 700;
      color: var(--accent);
      margin-bottom: 8px;
    }
    
    .platform-current {
      font-size: 24px;
      font-weight: 900;
      color: var(--danger);
      font-family: 'Orbitron', sans-serif;
    }
    
    .platform-original {
      font-size: 12px;
      color: var(--text-muted);
      text-decoration: line-through;
      margin-top: 4px;
    }
    
    .platform-discount {
      display: inline-block;
      margin-top: 8px;
      padding: 4px 8px;
      background: var(--danger);
      color: #fff;
      border-radius: 4px;
      font-size: 11px;
      font-weight: 700;
    }
    
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 16px;
      margin-top: 16px;
    }
    
    .stat-item {
      padding: 16px;
      background: rgba(56, 189, 248, 0.05);
      border-radius: 8px;
      text-align: center;
      border: 1px solid rgba(56, 189, 248, 0.2);
    }
    
    .stat-value {
      font-size: 28px;
      font-weight: 900;
      color: var(--accent);
      font-family: 'Orbitron', sans-serif;
      margin-bottom: 4px;
    }
    
    .stat-label {
      font-size: 12px;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    .rolling-text {
      font-size: 20px;
      font-weight: 700;
      color: var(--accent);
      text-align: center;
      padding: 20px;
      animation: pulse 0.5s infinite;
    }
    
    @keyframes pulse {
      0%, 100% {
        opacity: 1;
        transform: scale(1);
      }
      50% {
        opacity: 0.7;
        transform: scale(1.05);
      }
    }
  </style>
</head>
<body data-current-page="tools">
<div class="page">
  <header class="header">
    <div class="header-inner">
      <a href="index.html" class="logo">
        <div class="logo-mark">G</div>
        <div>
          <div>GameBox æ¸¸ç›’</div>
          <div class="logo-sub">LIGHTWEIGHT GAME HUB</div>
        </div>
      </a>
      <nav class="nav-main">
        <a href="index.html" data-page="home" class="nav-link">é¦–é¡µ</a>
        <a href="game-library.html" data-page="library" class="nav-link">æ¸¸æˆåº“</a>
        <a href="ranking.html" data-page="ranking" class="nav-link">
          æ’è¡Œæ¦œ <span class="badge">HOT</span>
        </a>
        <a href="discount.html" data-page="discount" class="nav-link">æŠ˜æ‰£ / å²ä½</a>
        <a href="community.html" data-page="community" class="nav-link">ç¤¾åŒº</a>
        <a href="news-list.html" data-page="news" class="nav-link">èµ„è®¯</a>
        <a href="tools.html" data-page="tools" class="nav-link">å·¥å…·</a>
        <a href="my-library.html" data-page="my" class="nav-link">æˆ‘çš„æ¸¸æˆ</a>
        <a href="profile.html" data-page="profile" class="nav-link">ç”¨æˆ·ä¸­å¿ƒ</a>
      </nav>
      <div class="header-right">
        <div class="header-search">
          <input type="text" placeholder="æœç´¢æ¸¸æˆ / èµ„è®¯ / å¸–å­" />
          <span class="header-search-icon">ğŸ”</span>
        </div>
        <button class="header-user" onclick="window.location.href='profile.html';" style="cursor: pointer;">æœªç™»å½• Â· æ¸¸å®¢</button>
      </div>
    </div>
  </header>
  
  <!-- Cyberpunk Effects -->
  <canvas id="matrix-canvas" class="matrix-bg"></canvas>
  <div id="particles-container" class="particles-container"></div>
  <div id="scroll-progress" class="scroll-progress"></div>
  <div id="loading-overlay" class="loading-overlay">
    <div class="cyberpunk-loader">
      <div class="loader-hexagon"></div>
      <div class="loader-text">LOADING...</div>
    </div>
  </div>

  <main class="main">
    <section>
      <div class="card">
        <div class="page-title">ğŸ› ï¸ å·¥å…·ä¸­å¿ƒ</div>
        <div class="page-intro">
          ä¸ºç©å®¶æä¾›å®ç”¨çš„æ¸¸æˆå·¥å…·ï¼šé…ç½®è¯„ä¼°ã€ä»·æ ¼å¯¹æ¯”ã€é€šå…³æ—¶é—´è®¡ç®—ã€æ¸¸æˆæ¨èç­‰åŠŸèƒ½ï¼Œè®©ä½ çš„æ¸¸æˆä½“éªŒæ›´åŠ ä¾¿æ·é«˜æ•ˆï¼
        </div>
      </div>

      <!-- é…ç½®ä¼°ç®—å·¥å…· -->
      <div class="tool-card">
        <div class="tool-header">
          <div class="tool-icon">ğŸ’»</div>
          <div class="tool-info">
            <div class="tool-title">é…ç½® vs ç”»è´¨è¯„ä¼°å™¨</div>
            <div class="tool-desc">è‡ªåŠ¨æ£€æµ‹ç”µè„‘é…ç½®æˆ–æ‰‹åŠ¨è¾“å…¥ï¼ŒåŸºäºçœŸå®æ€§èƒ½æ•°æ®æ™ºèƒ½æ¨èæœ€ä½³ç”»è´¨</div>
          </div>
        </div>
        <div class="tool-content">
          <!-- æ£€æµ‹æŒ‰é’®åŒº -->
          <div style="margin-bottom: 20px; text-align: center;">
            <button class="btn-tool" id="detectBtn" style="margin-right: 12px;">ğŸ” è‡ªåŠ¨æ£€æµ‹é…ç½®</button>
            <button class="btn-tool" id="manualBtn" style="background: rgba(255, 211, 0, 0.1); border-color: var(--warning); color: var(--warning);">âœï¸ æ‰‹åŠ¨è¾“å…¥</button>
          </div>
          
          <!-- æ£€æµ‹ç»“æœæ˜¾ç¤º -->
          <div id="detectedInfo" style="display: none; margin-bottom: 20px; padding: 16px; background: rgba(56, 189, 248, 0.05); border-radius: 8px; border-left: 4px solid var(--accent);">
            <div style="font-size: 14px; font-weight: 700; color: var(--accent); margin-bottom: 12px;">âš¡ æ£€æµ‹åˆ°çš„é…ç½®ï¼š</div>
            <div id="detectedSpecs" style="font-size: 13px; color: var(--text-soft); line-height: 1.8;"></div>
          </div>

          <!-- æ‰‹åŠ¨è¾“å…¥è¡¨å• -->
          <div id="manualForm" style="display: none;">
            <div class="form-grid">
              <div class="input-group">
                <label for="manualCpuInput">ğŸ”§ CPU å‹å·</label>
                <input type="text" id="manualCpuInput" placeholder="ä¾‹å¦‚: i7-14700K æˆ– R7 7800X3D" style="width: 100%; padding: 12px; border: 1px solid rgba(56, 189, 248, 0.3); background: rgba(17, 24, 39, 0.8); color: var(--text-soft); border-radius: 8px; font-size: 14px;" />
              </div>
              <div class="input-group">
                <label for="manualGpuInput">ğŸ® æ˜¾å¡å‹å·</label>
                <input type="text" id="manualGpuInput" placeholder="ä¾‹å¦‚: RTX 4070 Ti æˆ– RX 7900 XT" style="width: 100%; padding: 12px; border: 1px solid rgba(56, 189, 248, 0.3); background: rgba(17, 24, 39, 0.8); color: var(--text-soft); border-radius: 8px; font-size: 14px;" />
              </div>
              <div class="input-group">
                <label for="manualRamInput">ğŸ’¾ å†…å­˜å®¹é‡ (GB)</label>
                <input type="number" id="manualRamInput" placeholder="ä¾‹å¦‚: 16" min="4" max="256" style="width: 100%; padding: 12px; border: 1px solid rgba(56, 189, 248, 0.3); background: rgba(17, 24, 39, 0.8); color: var(--text-soft); border-radius: 8px; font-size: 14px;" />
              </div>
              <div class="input-group">
                <label for="manualResolution">ğŸ–¥ï¸ ç›®æ ‡åˆ†è¾¨ç‡</label>
                <select id="manualResolution" style="width: 100%; padding: 12px; border: 1px solid rgba(56, 189, 248, 0.3); background: rgba(17, 24, 39, 0.8); color: var(--text-soft); border-radius: 8px; font-size: 14px;">
                  <option value="1080">1080p (1920x1080)</option>
                  <option value="1440" selected>2K (2560x1440)</option>
                  <option value="2160">4K (3840x2160)</option>
                  <option value="ultrawide">è¶…å®½å± (3440x1440)</option>
                </select>
              </div>
            </div>
          </div>

          <!-- è‡ªåŠ¨é…ç½®è¡¨å• -->
          <div id="autoForm">
            <div class="form-grid">
              <div class="input-group">
                <label for="cfgCpu">ğŸ”§ CPU ç­‰çº§</label>
                <select id="cfgCpu">
                  <option value="budget">å…¥é—¨çº§ (i3-12100/R5 5500/R3 7300X)</option>
                  <option value="low">ä¸­ä½ç«¯ (i5-12400/R5 5600/R5 7500F)</option>
                  <option value="mid" selected>ä¸»æµçº§ (i5-13600K/R7 5800X3D/R7 7700X)</option>
                  <option value="high">é«˜ç«¯çº§ (i7-14700K/R9 7900X/i9-13900K)</option>
                  <option value="ultra">æ——èˆ°çº§ (i9-14900K/R9 7950X3D/i9-14900KS)</option>
                  <option value="next-gen">æ¬¡ä¸–ä»£ (Intel Core Ultra 9/AMD Ryzen 9000ç³»åˆ—)</option>
                </select>
              </div>
              <div class="input-group">
                <label for="cfgGpu">ğŸ® æ˜¾å¡ç­‰çº§</label>
                <select id="cfgGpu">
                  <option value="budget">å…¥é—¨çº§ (GTX 1650/RX 6400/RTX 3050)</option>
                  <option value="low">ä¸­ä½ç«¯ (RTX 3060/RX 6600 XT/RTX 4060)</option>
                  <option value="mid" selected>ä¸»æµçº§ (RTX 4060 Ti/RX 7600 XT/RTX 3070)</option>
                  <option value="high">é«˜ç«¯çº§ (RTX 4070/RX 7800 XT/RTX 4070 Ti)</option>
                  <option value="ultra">æ——èˆ°çº§ (RTX 4080/RX 7900 XTX/RTX 4090)</option>
                  <option value="rtx50-high">æ¬¡ä¸–ä»£é«˜ç«¯ (RTX 5070/RTX 5070 Ti)</option>
                  <option value="rtx50-ultra">æ¬¡ä¸–ä»£æ——èˆ° (RTX 5080/RTX 5090)</option>
                </select>
              </div>
              <div class="input-group">
                <label for="cfgRam">ğŸ’¾ å†…å­˜å®¹é‡</label>
                <select id="cfgRam">
                  <option value="8">8GB</option>
                  <option value="16" selected>16GB</option>
                  <option value="32">32GB</option>
                  <option value="64">64GB+</option>
                </select>
              </div>
              <div class="input-group">
                <label for="cfgResolution">ğŸ–¥ï¸ æ˜¾ç¤ºå™¨åˆ†è¾¨ç‡</label>
                <select id="cfgResolution">
                  <option value="1080">1080p (1920x1080)</option>
                  <option value="1440" selected>2K (2560x1440)</option>
                  <option value="2160">4K (3840x2160)</option>
                  <option value="ultrawide">è¶…å®½å± (3440x1440)</option>
                </select>
              </div>
            </div>
          </div>
          
          <button class="btn-tool" id="cfgBtn" style="margin-top: 16px;">ğŸš€ å¼€å§‹è¯„ä¼°</button>
          <div class="result-box" id="cfgResult"></div>
        </div>
      </div>

      <!-- æ¸¸æˆä»·æ ¼å¯¹æ¯”å·¥å…· -->
      <div class="tool-card">
        <div class="tool-header">
          <div class="tool-icon">ğŸ’°</div>
          <div class="tool-info">
            <div class="tool-title">è·¨å¹³å°ä»·æ ¼å¯¹æ¯”å™¨</div>
            <div class="tool-desc">æœç´¢ä»»æ„æ¸¸æˆï¼Œä¸€é”®å¯¹æ¯”Steamã€Epicã€æ‰æœç­‰å¹³å°ä»·æ ¼</div>
          </div>
        </div>
        <div class="tool-content">
          <div class="input-group">
            <label for="priceGameSearch">ğŸ¯ æœç´¢æ¸¸æˆ</label>
            <div style="position: relative;">
              <input type="text" id="priceGameSearch" placeholder="è¾“å…¥æ¸¸æˆåç§°æœç´¢ (ä¾‹å¦‚: è‰¾å°”ç™»æ³•ç¯, é»‘ç¥è¯æ‚Ÿç©º)" style="width: 100%; padding: 12px; border: 1px solid rgba(56, 189, 248, 0.3); background: rgba(17, 24, 39, 0.8); color: var(--text-soft); border-radius: 8px; font-size: 14px;" />
              <div id="priceSearchResults" style="display: none; position: absolute; top: 100%; left: 0; right: 0; max-height: 300px; overflow-y: auto; background: rgba(17, 24, 39, 0.98); border: 1px solid rgba(56, 189, 248, 0.4); border-radius: 8px; margin-top: 8px; z-index: 1000; box-shadow: 0 4px 20px rgba(0,0,0,0.5);"></div>
            </div>
          </div>
          <div style="margin-top: 12px; padding: 12px; background: rgba(56, 189, 248, 0.05); border-radius: 8px; border-left: 3px solid var(--accent); font-size: 12px; color: var(--text-muted);">
            ğŸ’¡ æç¤ºï¼šè¾“å…¥æ¸¸æˆåç§°åè‡ªåŠ¨æœç´¢ï¼Œç‚¹å‡»æœç´¢ç»“æœå³å¯æŸ¥çœ‹ä»·æ ¼å¯¹æ¯”
          </div>
          <div class="result-box" id="priceResult"></div>
        </div>
      </div>

      <!-- é€šå…³æ—¶é—´è®¡ç®—å™¨ -->
      <div class="tool-card">
        <div class="tool-header">
          <div class="tool-icon">â±ï¸</div>
          <div class="tool-info">
            <div class="tool-title">é€šå…³æ—¶é—´è®¡ç®—å™¨</div>
            <div class="tool-desc">æ ¹æ®æ¸¸æˆæ€»æ—¶é•¿å’Œæ¯æ—¥æ¸¸æˆæ—¶é—´ï¼Œè®¡ç®—é¢„è®¡é€šå…³æ‰€éœ€å¤©æ•°</div>
          </div>
        </div>
        <div class="tool-content">
          <div class="form-grid">
            <div class="input-group">
              <label for="timeTotal">ğŸ“Š æ¸¸æˆæ€»æ—¶é•¿ (å°æ—¶)</label>
              <input id="timeTotal" type="number" min="1" placeholder="ä¾‹å¦‚ï¼š60" />
            </div>
            <div class="input-group">
              <label for="timeDaily">ğŸ® æ¯æ—¥å¯ç©æ—¶é—´ (å°æ—¶)</label>
              <input id="timeDaily" type="number" min="0.5" step="0.5" placeholder="ä¾‹å¦‚ï¼š2" />
            </div>
            <div class="input-group">
              <label for="timeGoal">ğŸ¯ ç›®æ ‡å®Œæˆåº¦</label>
              <select id="timeGoal">
                <option value="1">ä¸»çº¿é€šå…³ (100%)</option>
                <option value="1.5">æ”¯çº¿æ¢ç´¢ (150%)</option>
                <option value="2">å…¨æ”¶é›† (200%)</option>
              </select>
            </div>
          </div>
          <button class="btn-tool" id="timeBtn">â±ï¸ è®¡ç®—æ—¶é—´</button>
          <div class="result-box" id="timeResult"></div>
        </div>
      </div>

      <!-- ä»Šæ™šç©ä»€ä¹ˆ -->
      <div class="tool-card">
        <div class="tool-header">
          <div class="tool-icon">ğŸ²</div>
          <div class="tool-info">
            <div class="tool-title">ä»Šæ™šç©ä»€ä¹ˆï¼Ÿå†³ç­–åŠ©æ‰‹</div>
            <div class="tool-desc">é€‰æ‹©å›°éš¾ç—‡æ•‘æ˜Ÿï¼ä»ä½ çš„æ¸¸æˆåº“ä¸­éšæœºæŠ½å–ä¸€æ¬¾æ¸¸æˆ</div>
          </div>
        </div>
        <div class="tool-content">
          <div style="font-size:13px;color:var(--text-muted);margin-bottom:12px;">
            ğŸ’¡ ç‚¹å‡»æ¸¸æˆå¡ç‰‡æ·»åŠ åˆ°æŠ½å¥–æ± ï¼Œç„¶åæŠ½å–ä»Šæ™šè¦ç©çš„æ¸¸æˆï¼š
          </div>
          <div class="game-pool" id="gamePool"></div>
          <div style="text-align:center;margin-top:20px;">
            <button class="btn-tool" id="randBtn">ğŸ² æŠ½å–æ¸¸æˆ</button>
          </div>
          <div class="result-box" id="randResult"></div>
        </div>
      </div>

      <!-- æ¸¸æˆæ€§ä»·æ¯”åˆ†æ -->
      <div class="tool-card">
        <div class="tool-header">
          <div class="tool-icon">ğŸ“Š</div>
          <div class="tool-info">
            <div class="tool-title">æ¸¸æˆæ€§ä»·æ¯”åˆ†æå™¨</div>
            <div class="tool-desc">ç»¼åˆè¯„ä¼°æ¸¸æˆçš„ä»·æ ¼ã€æ—¶é•¿ã€è¯„åˆ†ï¼Œè®¡ç®—æ€§ä»·æ¯”æŒ‡æ•°</div>
          </div>
        </div>
        <div class="tool-content">
          <div class="form-grid">
            <div class="input-group">
              <label for="valuePrice">ğŸ’° æ¸¸æˆä»·æ ¼ (å…ƒ)</label>
              <input id="valuePrice" type="number" min="0" placeholder="ä¾‹å¦‚ï¼š298" />
            </div>
            <div class="input-group">
              <label for="valueTime">â±ï¸ æ¸¸æˆæ—¶é•¿ (å°æ—¶)</label>
              <input id="valueTime" type="number" min="1" placeholder="ä¾‹å¦‚ï¼š80" />
            </div>
            <div class="input-group">
              <label for="valueRating">â­ è¯„åˆ† (0-10)</label>
              <input id="valueRating" type="number" min="0" max="10" step="0.1" placeholder="ä¾‹å¦‚ï¼š9.2" />
            </div>
          </div>
          <button class="btn-tool" id="valueBtn">ğŸ“Š åˆ†ææ€§ä»·æ¯”</button>
          <div class="result-box" id="valueResult"></div>
        </div>
      </div>

    </section>

    <aside>
      <div class="sidebar-card">
        <div class="sidebar-title">ğŸ¯ ä½¿ç”¨è¯´æ˜</div>
        <div class="sidebar-item">
          <span class="label">å·¥å…·æ€»æ•°</span><span class="value">5 ä¸ª</span>
        </div>
        <div class="sidebar-item">
          <span class="label">æ•°æ®æ¥æº</span><span class="value">æ¨¡æ‹Ÿæ•°æ®</span>
        </div>
        <div class="sidebar-item">
          <span class="label">æ›´æ–°é¢‘ç‡</span><span class="value">å®æ—¶</span>
        </div>
      </div>
      
      <div class="sidebar-card">
        <div class="sidebar-title">ğŸ’¡ è´´å£«</div>
        <div style="font-size:12px;color:var(--text-muted);line-height:1.6;">
          <p>â€¢ é…ç½®è¯„ä¼°ä»…ä¾›å‚è€ƒï¼Œå®é™…è¡¨ç°å› æ¸¸æˆä¼˜åŒ–è€Œå¼‚</p>
          <p>â€¢ ä»·æ ¼å¯¹æ¯”æ•°æ®ä¸ºç¤ºä¾‹ï¼Œå®é™…è¯·ä»¥å¹³å°å®˜ç½‘ä¸ºå‡†</p>
          <p>â€¢ é€šå…³æ—¶é—´åŸºäºå¹³å‡æ•°æ®ï¼Œä¸ªäººä½“éªŒå¯èƒ½ä¸åŒ</p>
          <p>â€¢ å®šæœŸæ›´æ–°æ¸¸æˆåº“ï¼Œè·å¾—æ›´å‡†ç¡®çš„æ¨è</p>
        </div>
      </div>
    </aside>
  </main>
</div>

<script src="common.js"></script>
<script src="cyber-effects.js"></script>
<script>
  initCommon();

  // =============================================
  // 1. é…ç½®ä¼°ç®—å·¥å…· - å…¨æ–°å‡çº§ç‰ˆ
  // =============================================
  
  // çœŸå®ç¡¬ä»¶æ€§èƒ½æ•°æ®åº“ï¼ˆåŸºäºå®é™…æ¸¸æˆæµ‹è¯•æ•°æ®ï¼‰
  const hardwareDatabase = {
    cpu: {
      // Intel å¤„ç†å™¨
      'i9-14900KS': { score: 100, cores: 24, threads: 32, boost: 6.2 },
      'i9-14900K': { score: 98, cores: 24, threads: 32, boost: 6.0 },
      'i9-13900K': { score: 95, cores: 24, threads: 32, boost: 5.8 },
      'i7-14700K': { score: 88, cores: 20, threads: 28, boost: 5.6 },
      'i7-13700K': { score: 85, cores: 16, threads: 24, boost: 5.4 },
      'i5-14600K': { score: 75, cores: 14, threads: 20, boost: 5.3 },
      'i5-13600K': { score: 73, cores: 14, threads: 20, boost: 5.1 },
      'i5-12600K': { score: 68, cores: 10, threads: 16, boost: 4.9 },
      'i5-12400': { score: 60, cores: 6, threads: 12, boost: 4.4 },
      'i3-12100': { score: 45, cores: 4, threads: 8, boost: 4.3 },
      // AMD å¤„ç†å™¨
      'R9 7950X3D': { score: 100, cores: 16, threads: 32, boost: 5.7 },
      'R9 7950X': { score: 96, cores: 16, threads: 32, boost: 5.7 },
      'R9 7900X': { score: 92, cores: 12, threads: 24, boost: 5.4 },
      'R7 7800X3D': { score: 90, cores: 8, threads: 16, boost: 5.0 },
      'R7 7700X': { score: 82, cores: 8, threads: 16, boost: 5.4 },
      'R7 5800X3D': { score: 85, cores: 8, threads: 16, boost: 4.5 },
      'R7 5700X': { score: 70, cores: 8, threads: 16, boost: 4.6 },
      'R5 7600X': { score: 72, cores: 6, threads: 12, boost: 5.3 },
      'R5 5600': { score: 62, cores: 6, threads: 12, boost: 4.4 },
      'R5 5500': { score: 50, cores: 6, threads: 12, boost: 4.2 }
    },
    gpu: {
      // NVIDIA RTX 50 ç³»åˆ—
      'RTX 5090': { score: 200, vram: 32, tdp: 575, dlss: '4.0', raytracing: 'Ultra' },
      'RTX 5080': { score: 160, vram: 16, tdp: 360, dlss: '4.0', raytracing: 'Ultra' },
      'RTX 5070 Ti': { score: 135, vram: 16, tdp: 285, dlss: '4.0', raytracing: 'High' },
      'RTX 5070': { score: 120, vram: 12, tdp: 250, dlss: '4.0', raytracing: 'High' },
      // NVIDIA RTX 40 ç³»åˆ—
      'RTX 4090': { score: 180, vram: 24, tdp: 450, dlss: '3.5', raytracing: 'Ultra' },
      'RTX 4080': { score: 145, vram: 16, tdp: 320, dlss: '3.5', raytracing: 'Ultra' },
      'RTX 4070 Ti': { score: 120, vram: 12, tdp: 285, dlss: '3.0', raytracing: 'High' },
      'RTX 4070': { score: 105, vram: 12, tdp: 200, dlss: '3.0', raytracing: 'High' },
      'RTX 4060 Ti': { score: 85, vram: 8, tdp: 160, dlss: '3.0', raytracing: 'Medium' },
      'RTX 4060': { score: 75, vram: 8, tdp: 115, dlss: '3.0', raytracing: 'Medium' },
      // NVIDIA RTX 30 ç³»åˆ—
      'RTX 3090': { score: 135, vram: 24, tdp: 350, dlss: '2.0', raytracing: 'High' },
      'RTX 3080': { score: 120, vram: 10, tdp: 320, dlss: '2.0', raytracing: 'High' },
      'RTX 3070': { score: 95, vram: 8, tdp: 220, dlss: '2.0', raytracing: 'Medium' },
      'RTX 3060': { score: 70, vram: 12, tdp: 170, dlss: '2.0', raytracing: 'Medium' },
      'RTX 3050': { score: 50, vram: 8, tdp: 130, dlss: '2.0', raytracing: 'Low' },
      // AMD RX 7000 ç³»åˆ—
      'RX 7900 XTX': { score: 155, vram: 24, tdp: 355, dlss: 'FSR 3', raytracing: 'High' },
      'RX 7900 XT': { score: 135, vram: 20, tdp: 315, dlss: 'FSR 3', raytracing: 'High' },
      'RX 7800 XT': { score: 110, vram: 16, tdp: 263, dlss: 'FSR 3', raytracing: 'Medium' },
      'RX 7700 XT': { score: 95, vram: 12, tdp: 245, dlss: 'FSR 3', raytracing: 'Medium' },
      'RX 7600': { score: 72, vram: 8, tdp: 165, dlss: 'FSR 2', raytracing: 'Low' },
      // AMD RX 6000 ç³»åˆ—
      'RX 6800 XT': { score: 115, vram: 16, tdp: 300, dlss: 'FSR 2', raytracing: 'Medium' },
      'RX 6700 XT': { score: 85, vram: 12, tdp: 230, dlss: 'FSR 2', raytracing: 'Low' },
      'RX 6600 XT': { score: 70, vram: 8, tdp: 160, dlss: 'FSR 2', raytracing: 'Low' },
      'RX 6500 XT': { score: 45, vram: 4, tdp: 107, dlss: 'FSR 2', raytracing: 'None' }
    }
  };

  // DOM å…ƒç´ 
  const detectBtn = document.getElementById("detectBtn");
  const manualBtn = document.getElementById("manualBtn");
  const detectedInfo = document.getElementById("detectedInfo");
  const detectedSpecs = document.getElementById("detectedSpecs");
  const manualForm = document.getElementById("manualForm");
  const autoForm = document.getElementById("autoForm");
  const cfgBtn = document.getElementById("cfgBtn");
  const cfgResult = document.getElementById("cfgResult");
  
  let currentMode = 'auto'; // 'auto' æˆ– 'manual'
  let detectedHardware = null;

  // ç¡¬ä»¶æ£€æµ‹åŠŸèƒ½ - æ˜¾ç¤ºçœŸå®å‹å·ç‰ˆ
  detectBtn.addEventListener("click", async () => {
    detectBtn.disabled = true;
    detectBtn.innerHTML = '<span style="animation: pulse 0.5s infinite;">ğŸ” æ­£åœ¨æ£€æµ‹çœŸå®ç¡¬ä»¶å‹å·...</span>';
    
    try {
      const hardware = await detectHardwareSpecs();
      detectedHardware = hardware;
      
      let specsHTML = '<div style="display: grid; gap: 12px;">';
      
      // GPUä¿¡æ¯ - æ˜¾ç¤ºæ£€æµ‹æ–¹æ³•å’Œè½¯ä»¶æ¸²æŸ“å™¨è­¦å‘Š
      const gpuBorderColor = hardware.gpuIsSoftware ? '#f97316' : '#00ff88';
      const gpuBgColor = hardware.gpuIsSoftware ? 'rgba(249, 115, 22, 0.15)' : 'rgba(0, 255, 136, 0.15)';
      const gpuTitleColor = hardware.gpuIsSoftware ? '#f97316' : '#00ff88';
      
      specsHTML += `
        <div style="padding: 15px; background: ${gpuBgColor}; border-radius: 10px; border: 2px solid ${gpuBorderColor};">
          <div style="font-size: 13px; color: ${gpuTitleColor}; margin-bottom: 8px; font-weight: bold;">
            ğŸ® GPU æ˜¾å¡ ${hardware.gpuIsSoftware ? '(âš ï¸ è½¯ä»¶æ¸²æŸ“)' : '(ç²¾ç¡®æ£€æµ‹)'}
          </div>
          <div style="font-size: 18px; color: #fff; font-weight: 700; margin-bottom: 8px; word-break: break-word;">${hardware.gpuModel || 'æœªæ£€æµ‹åˆ°'}</div>
          <div style="font-size: 11px; color: #94a3b8; margin-bottom: 6px;">
            å‚å•†: ${hardware.gpuVendor || 'Unknown'} | æ€§èƒ½è¯„åˆ†: <span style="color: #00ccff; font-weight: bold;">${hardware.gpuScore}/200</span>
            | æ£€æµ‹æ–¹å¼: <span style="color: #a855f7;">${hardware.gpuDetectionMethod || 'WebGL'}</span>
          </div>
          ${hardware.gpuIsSoftware ? `
            <div style="font-size: 11px; color: #f97316; padding: 10px; background: rgba(249, 115, 22, 0.1); border-radius: 6px; margin-bottom: 8px; line-height: 1.6;">
              âš ï¸ <strong>æ£€æµ‹åˆ°è½¯ä»¶æ¸²æŸ“å™¨</strong> - æ— æ³•è·å–çœŸå®GPUå‹å·<br><br>
              <strong>å¯èƒ½åŸå› :</strong><br>
              â€¢ æµè§ˆå™¨ç¡¬ä»¶åŠ é€Ÿè¢«ç¦ç”¨<br>
              â€¢ æ˜¾å¡é©±åŠ¨é—®é¢˜/ç‰ˆæœ¬è¿‡æ—§<br>
              â€¢ éšç§ä¿æŠ¤/åæŒ‡çº¹æ‰©å±•<br>
              â€¢ è¿œç¨‹æ¡Œé¢/è™šæ‹Ÿæœºç¯å¢ƒ<br><br>
              <span style="color: #00ccff;"><strong>ğŸ”§ ä¿®å¤æ–¹æ³• (Chrome):</strong></span><br>
              1. è®¾ç½® â†’ ç³»ç»Ÿ â†’ å¼€å¯ "ä½¿ç”¨ç¡¬ä»¶åŠ é€Ÿ"<br>
              2. åœ°å€æ è¾“å…¥ <code style="background:#1e293b;padding:2px 4px;border-radius:3px;">chrome://flags</code><br>
              3. æœç´¢ "Override software rendering list" â†’ å¯ç”¨<br>
              4. é‡å¯æµè§ˆå™¨<br><br>
              <span style="color: #a855f7;">ğŸ’¡ <strong>æ¨è: ä½¿ç”¨ä¸‹æ–¹"æ‰‹åŠ¨è¾“å…¥"å¡«å†™ä½ çš„çœŸå®é…ç½®</strong></span>
            </div>
          ` : ''}
          ${hardware.gpuWebGPU ? `
            <div style="font-size: 10px; color: #a855f7; padding: 6px; background: rgba(168, 85, 247, 0.1); border-radius: 4px; margin-bottom: 8px;">
              ğŸš€ WebGPUæ£€æµ‹: ${hardware.gpuWebGPU.description || hardware.gpuWebGPU.vendor || 'å¯ç”¨'} 
              ${hardware.gpuWebGPU.architecture ? `(æ¶æ„: ${hardware.gpuWebGPU.architecture})` : ''}
            </div>
          ` : ''}
          ${hardware.gpuRenderer ? `<details style="margin-top: 8px;"><summary style="font-size: 10px; color: #64748b; cursor: pointer;">ğŸ“‹ æŸ¥çœ‹åŸå§‹WebGLä¿¡æ¯</summary><div style="font-size: 10px; color: #475569; margin-top: 4px; word-break: break-all; background: rgba(0,0,0,0.3); padding: 8px; border-radius: 4px;">${hardware.gpuRenderer}</div></details>` : ''}
        </div>`;
      
      // CPUä¿¡æ¯ - æ˜¾ç¤ºæ ¸å¿ƒæ•° + åŸºå‡†æµ‹è¯•åˆ†æ•°
      specsHTML += `
        <div style="padding: 15px; background: rgba(0, 204, 255, 0.1); border-radius: 10px; border: 1px solid rgba(0, 204, 255, 0.3);">
          <div style="font-size: 13px; color: #00ccff; margin-bottom: 8px; font-weight: bold;">ğŸ–¥ï¸ CPU å¤„ç†å™¨</div>
          <div style="font-size: 16px; color: var(--text-main); font-weight: 600; margin-bottom: 4px;">${hardware.cpu || (hardware.cpuCores + ' é€»è¾‘æ ¸å¿ƒ')}</div>
          <div style="font-size: 11px; color: #94a3b8; margin-bottom: 6px;">
            æ ¸å¿ƒæ•°: <span style="color: #00ff88; font-weight: bold;">${hardware.cpuCores}</span> | 
            åŸºå‡†æµ‹è¯•åˆ†: <span style="color: #ffb800; font-weight: bold;">${hardware.cpuBenchmark || '-'}</span> | 
            ç»¼åˆæ€§èƒ½åˆ†: <span style="color: #00ccff; font-weight: bold;">${hardware.cpuScore}/100</span>
            ${hardware.cpuArch ? `<br>æ¶æ„: ${hardware.cpuArch}` : ''}
          </div>
          <div style="font-size: 11px; color: #f97316; margin-top: 6px; padding: 6px; background: rgba(249, 115, 22, 0.1); border-radius: 4px;">
            âš ï¸ æµè§ˆå™¨å®‰å…¨é™åˆ¶: æ— æ³•è·å–CPUå…·ä½“å‹å· (å¦‚ i7-14700K)ã€‚<br>
            æ€§èƒ½åˆ† = æ ¸å¿ƒæ•°(40%) + åŸºå‡†æµ‹è¯•(60%)ã€‚è¯·åœ¨ç³»ç»Ÿè®¾ç½®ä¸­æŸ¥çœ‹å®Œæ•´å‹å·ã€‚
          </div>
        </div>`;
      
      // å†…å­˜å’Œæ˜¾ç¤ºå™¨
      specsHTML += `
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
          <div style="padding: 12px; background: rgba(255, 184, 0, 0.1); border-radius: 8px; border-left: 3px solid #ffb800;">
            <div style="font-size: 12px; color: #64748b; margin-bottom: 4px;">ğŸ’¾ ç³»ç»Ÿå†…å­˜</div>
            <div style="font-size: 16px; color: var(--text-main); font-weight: 600;">${hardware.ram > 0 ? hardware.ram + ' GB' : 'æ— æ³•æ£€æµ‹'}</div>
            ${hardware.ramNote ? `<div style="font-size: 10px; color: ${hardware.ramEstimated ? '#a855f7' : '#f97316'}; margin-top: 4px;">${hardware.ramNote}</div>` : ''}
          </div>
          <div style="padding: 12px; background: rgba(168, 85, 247, 0.1); border-radius: 8px; border-left: 3px solid #a855f7;">
            <div style="font-size: 12px; color: #64748b; margin-bottom: 4px;">ğŸ–¥ï¸ æ˜¾ç¤ºå™¨åˆ†è¾¨ç‡</div>
            <div style="font-size: 16px; color: var(--text-main); font-weight: 600;">${hardware.screenWidth}Ã—${hardware.screenHeight}</div>
            <div style="font-size: 10px; color: #94a3b8; margin-top: 4px;">ç¼©æ”¾æ¯”ä¾‹: ${hardware.devicePixelRatio}x</div>
          </div>
        </div>`;
      
      specsHTML += '</div>';
      
      // æ£€æµ‹è¯´æ˜ - æ›´è¯¦ç»†
      specsHTML += `
        <div style="margin-top: 12px; padding: 10px; background: rgba(59, 130, 246, 0.1); border-radius: 6px; font-size: 11px; color: #94a3b8;">
          <span style="color: #3b82f6;">â„¹ï¸ å¤šé‡æ£€æµ‹æŠ€æœ¯:</span><br>
          â€¢ GPU: WebGPU API â†’ WebGL2 â†’ WebGL1 (å¤šçº§fallback)<br>
          â€¢ CPU: æ ¸å¿ƒæ•° + JavaScriptåŸºå‡†æµ‹è¯• (ç»¼åˆè¯„ä¼°)<br>
          â€¢ å†…å­˜: deviceMemory + jsHeapSizeLimit (æ™ºèƒ½ä¼°ç®—)
        </div>`;
      
      detectedSpecs.innerHTML = specsHTML;
      detectedInfo.style.display = 'block';
      
      detectBtn.innerHTML = 'âœ… æ£€æµ‹å®Œæˆ - ç‚¹å‡»é‡æ–°æ£€æµ‹';
      setTimeout(() => {
        detectBtn.innerHTML = 'ğŸ” é‡æ–°æ£€æµ‹é…ç½®';
        detectBtn.disabled = false;
      }, 2000);
    } catch (error) {
      detectBtn.innerHTML = 'âŒ æ£€æµ‹å¤±è´¥';
      detectedSpecs.innerHTML = `<span style="color:var(--danger);">æ£€æµ‹å¤±è´¥: ${error.message}<br/>è¯·å°è¯•æ‰‹åŠ¨è¾“å…¥é…ç½®</span>`;
      detectedInfo.style.display = 'block';
      setTimeout(() => {
        detectBtn.innerHTML = 'ğŸ” è‡ªåŠ¨æ£€æµ‹é…ç½®';
        detectBtn.disabled = false;
      }, 3000);
    }
  });
  
  // æ‰‹åŠ¨è¾“å…¥åˆ‡æ¢
  manualBtn.addEventListener("click", () => {
    currentMode = currentMode === 'auto' ? 'manual' : 'auto';
    if (currentMode === 'manual') {
      manualForm.style.display = 'block';
      autoForm.style.display = 'none';
      manualBtn.textContent = 'ğŸ“Š åˆ‡æ¢åˆ°å¿«é€Ÿé€‰æ‹©';
      manualBtn.style.background = 'rgba(56, 189, 248, 0.1)';
      manualBtn.style.borderColor = 'var(--accent)';
      manualBtn.style.color = 'var(--accent)';
    } else {
      manualForm.style.display = 'none';
      autoForm.style.display = 'block';
      manualBtn.textContent = 'âœï¸ æ‰‹åŠ¨è¾“å…¥';
      manualBtn.style.background = 'rgba(255, 211, 0, 0.1)';
      manualBtn.style.borderColor = 'var(--warning)';
      manualBtn.style.color = 'var(--warning)';
    }
  });
  
  // =============================================
  // ğŸ¯ ç²¾å‡†ç¡¬ä»¶æ£€æµ‹ç³»ç»Ÿ - ç»ˆæå¢å¼ºç‰ˆ
  // å¤šé‡APIæ£€æµ‹ + WebGPU + WebGL + æ€§èƒ½åŸºå‡†
  // =============================================
  
  // æ£€æµ‹æ˜¯å¦ä¸ºè½¯ä»¶æ¸²æŸ“å™¨/è™šæ‹ŸGPU
  function isSoftwareRenderer(gpuString) {
    if (!gpuString) return false;
    const softwarePatterns = [
      /microsoft\s*basic\s*render/i,
      /swiftshader/i,
      /llvmpipe/i,
      /software\s*rasterizer/i,
      /mesa\s*\d+/i,
      /vmware/i,
      /virtualbox/i,
      /parallels/i,
      /remote\s*desktop/i,
      /citrix/i
    ];
    return softwarePatterns.some(pattern => pattern.test(gpuString));
  }
  
  // ä»WebGL rendererå­—ç¬¦ä¸²ä¸­æå–ç²¾ç¡®GPUå‹å·
  function extractGPUModelFromRenderer(rendererString) {
    if (!rendererString) return null;
    
    // å…¸å‹æ ¼å¼: "ANGLE (NVIDIA, NVIDIA GeForce RTX 4070 Ti (0x00002782) Direct3D11 vs_5_0 ps_5_0, D3D11)"
    // æˆ–: "ANGLE (Intel, Intel(R) Iris(R) Xe Graphics (0x0000A7A1) Direct3D11 vs_5_0 ps_5_0, D3D11)"
    // æˆ–: "ANGLE (Apple, ANGLE Metal Renderer: Apple M1 Pro, Unspecified Version)"
    
    let gpuModel = rendererString;
    
    // å°è¯•æå–NVIDIAæ˜¾å¡å‹å·
    const nvidiaMatch = rendererString.match(/NVIDIA\s+(GeForce\s+)?(RTX|GTX|Quadro|Tesla)?\s*[\w\s\-]+?(?=\s*\(0x|\s*Direct3D|\s*OpenGL|$)/i);
    if (nvidiaMatch) {
      gpuModel = nvidiaMatch[0].trim();
      // æ¸…ç†å¤šä½™ç©ºæ ¼
      gpuModel = gpuModel.replace(/\s+/g, ' ').trim();
    }
    
    // å°è¯•æå–AMDæ˜¾å¡å‹å·
    const amdMatch = rendererString.match(/AMD\s+(Radeon)?\s*(RX|R\d|HD|Vega)?\s*[\w\s\-]+?(?=\s*\(0x|\s*Direct3D|\s*OpenGL|$)/i);
    if (amdMatch && !nvidiaMatch) {
      gpuModel = amdMatch[0].trim();
      gpuModel = gpuModel.replace(/\s+/g, ' ').trim();
    }
    
    // å°è¯•æå–Intelæ˜¾å¡å‹å·
    const intelMatch = rendererString.match(/Intel[Â®\s]*\(?[^\)]*?(Iris|UHD|HD|Arc|Graphics)[\w\s\-\(\)Â®]*?(?=\s*Direct3D|\s*OpenGL|,|$)/i);
    if (intelMatch && !nvidiaMatch && !amdMatch) {
      gpuModel = intelMatch[0].trim();
      gpuModel = gpuModel.replace(/\s+/g, ' ').replace(/[Â®\(\)]/g, '').trim();
    }
    
    // å°è¯•æå–AppleèŠ¯ç‰‡
    const appleMatch = rendererString.match(/Apple\s+M\d+(\s+(Pro|Max|Ultra))?/i);
    if (appleMatch) {
      gpuModel = appleMatch[0].trim();
    }
    
    // ç§»é™¤åå…­è¿›åˆ¶è®¾å¤‡ID
    gpuModel = gpuModel.replace(/\s*\(0x[0-9A-Fa-f]+\)/g, '');
    
    return gpuModel;
  }
  
  // æ ¹æ®GPUå‹å·ä¼°ç®—æ€§èƒ½åˆ†æ•°
  function estimateGPUScore(gpuModel) {
    if (!gpuModel) return 30;
    
    const str = gpuModel.toLowerCase();
    
    // RTX 50ç³»åˆ—
    if (/rtx\s*5090/i.test(str)) return 200;
    if (/rtx\s*5080/i.test(str)) return 160;
    if (/rtx\s*5070\s*ti/i.test(str)) return 135;
    if (/rtx\s*5070/i.test(str)) return 120;
    
    // RTX 40ç³»åˆ—
    if (/rtx\s*4090/i.test(str)) return 180;
    if (/rtx\s*4080\s*super/i.test(str)) return 155;
    if (/rtx\s*4080/i.test(str)) return 145;
    if (/rtx\s*4070\s*ti\s*super/i.test(str)) return 130;
    if (/rtx\s*4070\s*ti/i.test(str)) return 120;
    if (/rtx\s*4070\s*super/i.test(str)) return 115;
    if (/rtx\s*4070/i.test(str)) return 105;
    if (/rtx\s*4060\s*ti/i.test(str)) return 85;
    if (/rtx\s*4060/i.test(str)) return 75;
    
    // RTX 30ç³»åˆ—
    if (/rtx\s*3090/i.test(str)) return 135;
    if (/rtx\s*3080\s*ti/i.test(str)) return 125;
    if (/rtx\s*3080/i.test(str)) return 120;
    if (/rtx\s*3070\s*ti/i.test(str)) return 100;
    if (/rtx\s*3070/i.test(str)) return 95;
    if (/rtx\s*3060\s*ti/i.test(str)) return 82;
    if (/rtx\s*3060/i.test(str)) return 70;
    if (/rtx\s*3050/i.test(str)) return 50;
    
    // GTXç³»åˆ—
    if (/gtx\s*1080\s*ti/i.test(str)) return 60;
    if (/gtx\s*1080/i.test(str)) return 52;
    if (/gtx\s*1070/i.test(str)) return 45;
    if (/gtx\s*1660/i.test(str)) return 45;
    if (/gtx\s*1650/i.test(str)) return 32;
    if (/gtx\s*1060/i.test(str)) return 35;
    if (/gtx\s*1050/i.test(str)) return 22;
    
    // AMD RXç³»åˆ—
    if (/rx\s*7900\s*xtx/i.test(str)) return 155;
    if (/rx\s*7900\s*xt/i.test(str)) return 135;
    if (/rx\s*7800\s*xt/i.test(str)) return 110;
    if (/rx\s*7700\s*xt/i.test(str)) return 95;
    if (/rx\s*7600/i.test(str)) return 72;
    if (/rx\s*6[89]00/i.test(str)) return 115;
    if (/rx\s*6[67]00/i.test(str)) return 75;
    if (/rx\s*6500/i.test(str)) return 45;
    
    // Intel Arc
    if (/arc\s*a770/i.test(str)) return 82;
    if (/arc\s*a750/i.test(str)) return 72;
    if (/arc/i.test(str)) return 50;
    
    // é›†æˆæ˜¾å¡
    if (/iris\s*xe/i.test(str)) return 18;
    if (/uhd\s*(7[0-9]{2})/i.test(str)) return 12;
    if (/uhd/i.test(str)) return 8;
    if (/radeon\s*780m/i.test(str)) return 35;
    if (/vega/i.test(str)) return 15;
    
    // AppleèŠ¯ç‰‡
    if (/m3\s*(ultra|max)/i.test(str)) return 100;
    if (/m3\s*pro/i.test(str)) return 80;
    if (/m3/i.test(str)) return 65;
    if (/m2\s*(ultra|max)/i.test(str)) return 85;
    if (/m2\s*pro/i.test(str)) return 70;
    if (/m2/i.test(str)) return 55;
    if (/m1\s*(ultra|max)/i.test(str)) return 75;
    if (/m1\s*pro/i.test(str)) return 60;
    if (/m1/i.test(str)) return 45;
    
    // é€šç”¨ä¼°ç®—
    if (str.includes('rtx')) return 80;
    if (str.includes('gtx')) return 40;
    if (str.includes('rx')) return 60;
    
    return 30;
  }
  
  // ç²¾å‡†ç¡¬ä»¶æ£€æµ‹å‡½æ•° - ç»ˆæå¢å¼ºç‰ˆ
  // ä½¿ç”¨å¤šé‡API: WebGPU + WebGL + WebGL2 + æ€§èƒ½åŸºå‡†
  async function detectHardwareSpecs() {
    const specs = {
      // CPUç›¸å…³
      cpuCores: 0,
      cpuInfo: '',
      cpuScore: 0,
      cpu: '',
      cpuArch: '',
      cpuBenchmark: 0,       // CPUåŸºå‡†æµ‹è¯•åˆ†æ•°
      
      // GPUç›¸å…³ - å¤šé‡æ£€æµ‹æº
      gpuRenderer: '',       // WebGLåŸå§‹å­—ç¬¦ä¸²
      gpuModel: '',          // æå–çš„GPUå‹å·
      gpuVendor: '',         // GPUå‚å•†
      gpuScore: 0,
      gpu: '',
      gpuWebGPU: null,       // WebGPUæ£€æµ‹ç»“æœ
      gpuIsSoftware: false,  // æ˜¯å¦ä¸ºè½¯ä»¶æ¸²æŸ“å™¨
      gpuDetectionMethod: '', // æ£€æµ‹æ–¹æ³•
      
      // å†…å­˜
      ram: 0,
      ramNote: '',
      ramEstimated: false,
      
      // å…¶ä»–
      screenWidth: screen.width,
      screenHeight: screen.height,
      devicePixelRatio: window.devicePixelRatio || 1,
      platform: navigator.platform || 'Unknown'
    };
    
    // ==========================================
    // 1. CPUæ£€æµ‹ - æ ¸å¿ƒæ•° + åŸºå‡†æµ‹è¯•
    // ==========================================
    specs.cpuCores = navigator.hardwareConcurrency || 0;
    
    // æ‰§è¡ŒCPUåŸºå‡†æµ‹è¯• (è®¡ç®—å¯†é›†å‹ä»»åŠ¡)
    try {
      const startTime = performance.now();
      let result = 0;
      // æ‰§è¡Œä¸€äº›è®¡ç®—å¯†é›†å‹æ“ä½œ
      for (let i = 0; i < 1000000; i++) {
        result += Math.sqrt(i) * Math.sin(i);
      }
      const endTime = performance.now();
      const benchTime = endTime - startTime;
      
      // åŸºå‡†æ—¶é—´è¶ŠçŸ­,æ€§èƒ½è¶Šå¥½ (è½¬æ¢ä¸ºåˆ†æ•°)
      // å…¸å‹èŒƒå›´: 50ms(é«˜ç«¯) - 500ms(ä½ç«¯)
      if (benchTime < 50) specs.cpuBenchmark = 100;
      else if (benchTime < 100) specs.cpuBenchmark = 85;
      else if (benchTime < 150) specs.cpuBenchmark = 70;
      else if (benchTime < 200) specs.cpuBenchmark = 60;
      else if (benchTime < 300) specs.cpuBenchmark = 50;
      else if (benchTime < 500) specs.cpuBenchmark = 35;
      else specs.cpuBenchmark = 20;
      
      console.log(`[CPUåŸºå‡†æµ‹è¯•] è€—æ—¶: ${benchTime.toFixed(2)}ms, åˆ†æ•°: ${specs.cpuBenchmark}`);
    } catch (e) {
      specs.cpuBenchmark = 50; // é»˜è®¤ä¸­ç­‰
    }
    
    // ç»¼åˆCPUåˆ†æ•° (æ ¸å¿ƒæ•°40% + åŸºå‡†æµ‹è¯•60%)
    if (specs.cpuCores > 0) {
      let coreScore;
      if (specs.cpuCores >= 32) coreScore = 100;
      else if (specs.cpuCores >= 24) coreScore = 95;
      else if (specs.cpuCores >= 20) coreScore = 88;
      else if (specs.cpuCores >= 16) coreScore = 80;
      else if (specs.cpuCores >= 12) coreScore = 70;
      else if (specs.cpuCores >= 8) coreScore = 60;
      else if (specs.cpuCores >= 6) coreScore = 50;
      else if (specs.cpuCores >= 4) coreScore = 40;
      else coreScore = 25;
      
      specs.cpuScore = Math.round(coreScore * 0.4 + specs.cpuBenchmark * 0.6);
      
      // æ ¹æ®ç»¼åˆåˆ†æ•°æ¨æ–­CPUçº§åˆ«
      if (specs.cpuScore >= 90) specs.cpu = `æ——èˆ°çº§å¤„ç†å™¨ (${specs.cpuCores}æ ¸å¿ƒ)`;
      else if (specs.cpuScore >= 75) specs.cpu = `é«˜ç«¯å¤„ç†å™¨ (${specs.cpuCores}æ ¸å¿ƒ)`;
      else if (specs.cpuScore >= 60) specs.cpu = `ä¸»æµå¤„ç†å™¨ (${specs.cpuCores}æ ¸å¿ƒ)`;
      else if (specs.cpuScore >= 45) specs.cpu = `ä¸­ç«¯å¤„ç†å™¨ (${specs.cpuCores}æ ¸å¿ƒ)`;
      else specs.cpu = `å…¥é—¨å¤„ç†å™¨ (${specs.cpuCores}æ ¸å¿ƒ)`;
      
      specs.cpuInfo = `${specs.cpuCores} æ ¸å¿ƒ | æ€§èƒ½åˆ†: ${specs.cpuScore}`;
    }
    
    // è·å–CPUæ¶æ„ä¿¡æ¯
    try {
      if (navigator.userAgentData && navigator.userAgentData.getHighEntropyValues) {
        const hints = await navigator.userAgentData.getHighEntropyValues(['architecture', 'bitness', 'platform']);
        specs.cpuArch = `${hints.platform || ''} ${hints.architecture || ''} ${hints.bitness || ''}bit`.trim();
      }
    } catch (e) {
      console.log('[CPUæ£€æµ‹] Client Hintsä¸å¯ç”¨');
    }
    
    // ==========================================
    // 2. GPUæ£€æµ‹ - å¤šé‡APIæ£€æµ‹
    // ==========================================
    
    // æ–¹æ³•1: å°è¯•WebGPU API (æœ€æ–°,æœ€å‡†ç¡®)
    let webgpuDetected = false;
    try {
      if (navigator.gpu) {
        console.log('[GPUæ£€æµ‹] å°è¯•WebGPU API...');
        const adapter = await navigator.gpu.requestAdapter();
        if (adapter) {
          const info = adapter.info;
          specs.gpuWebGPU = {
            vendor: info.vendor || '',
            architecture: info.architecture || '',
            device: info.device || '',
            description: info.description || '',
            isFallback: info.isFallbackAdapter || false
          };
          
          console.log('[WebGPU] æ£€æµ‹ç»“æœ:', specs.gpuWebGPU);
          
          // å¦‚æœWebGPUè¿”å›äº†æœ‰æ•ˆä¿¡æ¯ä¸”ä¸æ˜¯fallback
          if (!info.isFallbackAdapter && (info.description || info.vendor)) {
            webgpuDetected = true;
            specs.gpuDetectionMethod = 'WebGPU';
            
            // ä½¿ç”¨WebGPUä¿¡æ¯
            if (info.description) {
              specs.gpuModel = info.description;
            } else if (info.vendor && info.architecture) {
              specs.gpuModel = `${info.vendor} ${info.architecture}`;
            }
            specs.gpuVendor = info.vendor;
            specs.gpuScore = estimateGPUScore(specs.gpuModel);
            specs.gpu = specs.gpuModel;
          }
        }
      }
    } catch (e) {
      console.log('[WebGPU] ä¸å¯ç”¨:', e.message);
    }
    
    // æ–¹æ³•2: WebGL2æ£€æµ‹ (æ¯”WebGL1æ›´å¯é )
    if (!webgpuDetected) {
      try {
        const canvas = document.createElement('canvas');
        const gl2 = canvas.getContext('webgl2');
        
        if (gl2) {
          const debugInfo = gl2.getExtension('WEBGL_debug_renderer_info');
          if (debugInfo) {
            const renderer = gl2.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL) || '';
            const vendor = gl2.getParameter(debugInfo.UNMASKED_VENDOR_WEBGL) || '';
            
            specs.gpuRenderer = renderer;
            specs.gpuVendor = vendor;
            specs.gpuIsSoftware = isSoftwareRenderer(renderer);
            specs.gpuDetectionMethod = 'WebGL2';
            
            if (!specs.gpuIsSoftware) {
              specs.gpuModel = extractGPUModelFromRenderer(renderer);
              specs.gpuScore = estimateGPUScore(specs.gpuModel);
              specs.gpu = specs.gpuModel;
              console.log('[WebGL2] æ£€æµ‹æˆåŠŸ:', specs.gpuModel);
            } else {
              console.log('[WebGL2] æ£€æµ‹åˆ°è½¯ä»¶æ¸²æŸ“å™¨:', renderer);
            }
          }
        }
      } catch (e) {
        console.log('[WebGL2] æ£€æµ‹å¤±è´¥:', e.message);
      }
    }
    
    // æ–¹æ³•3: WebGL1æ£€æµ‹ (æœ€åçš„åå¤‡)
    if (!specs.gpuModel || specs.gpuIsSoftware) {
      try {
        const canvas = document.createElement('canvas');
        const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
        
        if (gl) {
          const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
          if (debugInfo) {
            const renderer = gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL) || '';
            const vendor = gl.getParameter(debugInfo.UNMASKED_VENDOR_WEBGL) || '';
            
            if (!specs.gpuRenderer) {
              specs.gpuRenderer = renderer;
              specs.gpuVendor = vendor;
            }
            
            const isSoft = isSoftwareRenderer(renderer);
            if (!isSoft && (!specs.gpuModel || specs.gpuIsSoftware)) {
              specs.gpuModel = extractGPUModelFromRenderer(renderer);
              specs.gpuScore = estimateGPUScore(specs.gpuModel);
              specs.gpu = specs.gpuModel;
              specs.gpuIsSoftware = false;
              specs.gpuDetectionMethod = 'WebGL1';
              console.log('[WebGL1] æ£€æµ‹æˆåŠŸ:', specs.gpuModel);
            } else if (isSoft) {
              specs.gpuIsSoftware = true;
            }
          } else {
            // æ²¡æœ‰debugæ‰©å±•
            specs.gpuRenderer = gl.getParameter(gl.RENDERER) || '';
            specs.gpuModel = specs.gpuRenderer;
            specs.gpuDetectionMethod = 'WebGL Basic';
          }
        }
      } catch (e) {
        console.error('[WebGL1] æ£€æµ‹å¤±è´¥:', e);
      }
    }
    
    // å¦‚æœæ£€æµ‹åˆ°è½¯ä»¶æ¸²æŸ“å™¨ï¼Œæ˜¾ç¤ºè­¦å‘Š
    if (specs.gpuIsSoftware || !specs.gpuModel) {
      specs.gpuModel = specs.gpuRenderer || 'æ— æ³•æ£€æµ‹çœŸå®GPU';
      specs.gpu = specs.gpuModel;
      specs.gpuScore = 30; // è½¯ä»¶æ¸²æŸ“å™¨ä½åˆ†
      specs.gpuDetectionMethod = 'âš ï¸ è½¯ä»¶æ¸²æŸ“/éšç§æ¨¡å¼';
    }
    
    console.log('[GPUæ£€æµ‹å®Œæˆ]', {
      model: specs.gpuModel,
      vendor: specs.gpuVendor,
      score: specs.gpuScore,
      method: specs.gpuDetectionMethod,
      isSoftware: specs.gpuIsSoftware
    });
    
    // ==========================================
    // 3. å†…å­˜æ£€æµ‹ - å¢å¼ºç‰ˆ
    // ==========================================
    if (navigator.deviceMemory) {
      specs.ram = navigator.deviceMemory;
      
      if (specs.ram >= 8) {
        // å°è¯•é€šè¿‡JSå †å¤§å°ä¼°ç®—
        try {
          if (performance.memory && performance.memory.jsHeapSizeLimit) {
            const heapGB = performance.memory.jsHeapSizeLimit / (1024 * 1024 * 1024);
            if (heapGB > 4) {
              specs.ram = 32;
              specs.ramEstimated = true;
              specs.ramNote = '(ä¼°ç®—: â‰¥32GB)';
            } else if (heapGB > 2) {
              specs.ram = 16;
              specs.ramEstimated = true;
              specs.ramNote = '(ä¼°ç®—: â‰¥16GB)';
            } else {
              specs.ramNote = '(APIé™åˆ¶8GB,å®é™…å¯èƒ½æ›´å¤š)';
            }
          } else {
            specs.ramNote = '(APIé™åˆ¶8GBä¸Šé™)';
          }
        } catch (e) {
          specs.ramNote = '(APIé™åˆ¶8GBä¸Šé™)';
        }
      }
    } else {
      specs.ram = 8;
      specs.ramNote = '(ä¸æ”¯æŒæ£€æµ‹,é»˜è®¤8GB)';
      specs.ramEstimated = true;
    }
    
    console.log('[ç¡¬ä»¶æ£€æµ‹å®Œæˆ]', specs);
    return specs;
  }
  
  // è¯„ä¼°æŒ‰é’®äº‹ä»¶ - æ”¯æŒæ£€æµ‹ç»“æœå’Œæ‰‹åŠ¨è¾“å…¥
  cfgBtn.addEventListener("click", () => {
    let cpuScore, gpuScore, ram, resolution;
    let cpuName, gpuName;
    let inputSource = '';  // è®°å½•æ•°æ®æ¥æº
    
    // ğŸ”§ ä¿®å¤: æ‰‹åŠ¨æ¨¡å¼ä¼˜å…ˆçº§æœ€é«˜
    if (currentMode === 'manual') {
      // æ‰‹åŠ¨è¾“å…¥æ¨¡å¼ - æœ€é«˜ä¼˜å…ˆçº§
      inputSource = 'æ‰‹åŠ¨è¾“å…¥';
      const manualCpuInput = document.getElementById("manualCpuInput");
      const manualGpuInput = document.getElementById("manualGpuInput");
      const manualRamInput = document.getElementById("manualRamInput");
      const manualResolution = document.getElementById("manualResolution");
      
      const cpuInput = manualCpuInput.value.trim();
      const gpuInput = manualGpuInput.value.trim();
      ram = parseInt(manualRamInput.value) || 16;
      resolution = manualResolution.value || '1080';
      
      if (!cpuInput || !gpuInput) {
        alert('è¯·è¾“å…¥ CPU å’Œ GPU å‹å·');
        return;
      }
      
      // åŒ¹é…CPU - ä½¿ç”¨hardwareDatabaseæˆ–estimateGPUScore
      cpuName = cpuInput;
      cpuScore = matchHardware(cpuInput, hardwareDatabase.cpu);
      
      // åŒ¹é…GPU - ä¼˜å…ˆç”¨hardwareDatabaseï¼Œå¦åˆ™ç”¨estimateGPUScore
      gpuName = gpuInput;
      gpuScore = matchHardware(gpuInput, hardwareDatabase.gpu);
      // å¦‚æœæ•°æ®åº“åŒ¹é…å¤±è´¥ï¼Œä½¿ç”¨GPUè¯„åˆ†å‡½æ•°
      if (gpuScore <= 30) {
        gpuScore = estimateGPUScore(gpuInput);
      }
      
      console.log('[è¯„ä¼°] æ‰‹åŠ¨è¾“å…¥ - CPU:', cpuName, cpuScore, 'GPU:', gpuName, gpuScore);
      
    } else if (detectedHardware && detectedHardware.cpuScore && detectedHardware.gpuScore && !detectedHardware.gpuIsSoftware) {
      // ä½¿ç”¨è‡ªåŠ¨æ£€æµ‹çš„ç¡¬ä»¶æ•°æ® (éè½¯ä»¶æ¸²æŸ“å™¨)
      inputSource = 'è‡ªåŠ¨æ£€æµ‹';
      cpuName = detectedHardware.cpu;
      cpuScore = detectedHardware.cpuScore;
      gpuName = detectedHardware.gpu;
      gpuScore = detectedHardware.gpuScore;
      ram = detectedHardware.ram || 16;
      
      // æ ¹æ®å±å¹•åˆ†è¾¨ç‡è‡ªåŠ¨åˆ¤æ–­
      const screenWidth = screen.width * (window.devicePixelRatio || 1);
      if (screenWidth >= 3840) resolution = '2160';
      else if (screenWidth >= 2560) resolution = '1440';
      else resolution = '1080';
      
      console.log('[è¯„ä¼°] ä½¿ç”¨æ£€æµ‹é…ç½® - CPU:', cpuScore, 'GPU:', gpuScore);
    } else {
      // å¿«é€Ÿé€‰æ‹©æ¨¡å¼ (ä¸‹æ‹‰èœå•)
      inputSource = 'å¿«é€Ÿé€‰æ‹©';
      const cfgCpu = document.getElementById("cfgCpu");
      const cfgGpu = document.getElementById("cfgGpu");
      const cfgRam = document.getElementById("cfgRam");
      const cfgResolution = document.getElementById("cfgResolution");
      
      const cpu = cfgCpu.value;
      const gpu = cfgGpu.value;
      ram = parseInt(cfgRam.value);
      resolution = cfgResolution.value;
      
      // æ˜ å°„åˆ°å®é™…ç¡¬ä»¶åç§°å’Œåˆ†æ•°
      const cpuMapping = {
        budget: { name: 'i3-12100', score: 45 },
        low: { name: 'i5-12400', score: 60 },
        mid: { name: 'i5-13600K', score: 73 },
        high: { name: 'i7-14700K', score: 88 },
        ultra: { name: 'i9-14900K', score: 98 },
        'next-gen': { name: 'i9-14900KS', score: 100 }
      };
      const gpuMapping = {
        budget: { name: 'RTX 3050', score: 50 },
        low: { name: 'RTX 4060', score: 75 },
        mid: { name: 'RTX 4060 Ti', score: 85 },
        high: { name: 'RTX 4070 Ti', score: 120 },
        ultra: { name: 'RTX 4090', score: 180 },
        'rtx50-high': { name: 'RTX 5070 Ti', score: 135 },
        'rtx50-ultra': { name: 'RTX 5090', score: 200 }
      };
      
      cpuName = cpuMapping[cpu].name;
      cpuScore = cpuMapping[cpu].score;
      gpuName = gpuMapping[gpu].name;
      gpuScore = gpuMapping[gpu].score;
    }
    
    // è®¡ç®—æ€»åˆ† (åŸºäºçœŸå®æ€§èƒ½æ•°æ®)
    let totalScore = cpuScore + gpuScore;
    
    // åˆ†è¾¨ç‡æƒ©ç½šç³»æ•°
    const resMultiplier = { '1080': 1, '1440': 0.65, '2160': 0.45, 'ultrawide': 0.60 };
    totalScore = totalScore * resMultiplier[resolution];
    
    // å†…å­˜åŠ æˆ
    if (ram >= 32) totalScore += 15;
    else if (ram >= 16) totalScore += 5;
    else if (ram < 8) totalScore -= 15;
    
    // è·å–GPUç‰¹æ€§
    const gpuData = hardwareDatabase.gpu[gpuName] || { dlss: 'None', raytracing: 'None', vram: 8 };
    const dlssVersion = gpuData.dlss || 'None';
    const raytracingLevel = gpuData.raytracing || 'None';
    
    // ğŸ® D-SSS ç­‰çº§è¯„åˆ†ç³»ç»Ÿ
    // åˆ†æ•° â†’ ç­‰çº§æ˜ å°„
    function getGrade(score) {
      if (score >= 160) return { grade: 'SSS', color: '#ff00ff', glow: 'rgba(255, 0, 255, 0.6)', desc: 'ä¼ è¯´' };
      if (score >= 130) return { grade: 'SS', color: '#ff4444', glow: 'rgba(255, 68, 68, 0.5)', desc: 'å²è¯—' };
      if (score >= 105) return { grade: 'S', color: '#ffaa00', glow: 'rgba(255, 170, 0, 0.5)', desc: 'å“è¶Š' };
      if (score >= 85) return { grade: 'A', color: '#00ff88', glow: 'rgba(0, 255, 136, 0.4)', desc: 'ä¼˜ç§€' };
      if (score >= 65) return { grade: 'B', color: '#00ccff', glow: 'rgba(0, 204, 255, 0.4)', desc: 'è‰¯å¥½' };
      if (score >= 45) return { grade: 'C', color: '#ffff00', glow: 'rgba(255, 255, 0, 0.3)', desc: 'ä¸­ç­‰' };
      if (score >= 30) return { grade: 'D', color: '#ff8800', glow: 'rgba(255, 136, 0, 0.3)', desc: 'åŠæ ¼' };
      return { grade: 'E', color: '#888888', glow: 'rgba(136, 136, 136, 0.2)', desc: 'ä¸è¶³' };
    }
    
    const gradeInfo = getGrade(totalScore);
    
    // åŸºäºæ€»åˆ†è¯„ä¼°æ€§èƒ½
    let quality, fpsRange, raytracing, details, dlss;
    let score = totalScore;
    
    // çœŸå®æ€§èƒ½è¯„ä¼°ï¼ˆåŸºäºå®é™…æ¸¸æˆæµ‹è¯•æ•°æ®ï¼‰
    if (score >= 130) {
      quality = "è¶…æè‡´";
      fpsRange = "144-240 FPS";
      raytracing = dlssVersion === '4.0' ? "âœ… å…¨ç¨‹å…‰è¿½ + DLSS 4.0 å¤šå¸§ç”Ÿæˆ" : "âœ… å…¨ç¨‹å…‰è¿½ + è·¯å¾„è¿½è¸ª";
      dlss = dlssVersion === '4.0' ? "ğŸš€ DLSS 4.0 + å¤šå¸§ç”Ÿæˆ" : "ğŸ¯ DLSS 3.5 + å¸§ç”Ÿæˆ";
      details = `æ¬¡ä¸–ä»£æ——èˆ°é…ç½®ï¼åœ¨ã€Šèµ›åšæœ‹å…‹2077ã€‹è·¯å¾„è¿½è¸ªæ¨¡å¼ä¸‹å¯è¾¾60+ FPSï¼Œã€Šé»‘ç¥è¯ï¼šæ‚Ÿç©ºã€‹4Kæœ€é«˜ç”»è´¨ç¨³å®š80+ FPSï¼Œã€Šè‰¾å°”ç™»æ³•ç¯ã€‹å¯è¾¾144+ FPSã€‚`;
    } else if (score >= 105) {
      quality = "æè‡´";
      fpsRange = "120-144 FPS";
      raytracing = "âœ… å…¨å¼€å…‰è¿½ç‰¹æ•ˆ";
      dlss = dlssVersion.includes('3') ? "âš¡ DLSS 3.0/FSR 3" : "ğŸ’« DLSS 2.0/FSR 2";
      details = `æ——èˆ°çº§é…ç½®ï¼ã€Šèµ›åšæœ‹å…‹2077ã€‹è¶…çº§å…‰è¿½å¯è¾¾70+ FPSï¼Œã€Šé»‘ç¥è¯ï¼šæ‚Ÿç©ºã€‹4Ké«˜ç”»è´¨80+ FPSï¼Œã€Šéœæ ¼æ²ƒèŒ¨ä¹‹é—ã€‹4Kæé«˜ç”»è´¨æµç•…è¿è¡Œã€‚`;
    } else if (score >= 85) {
      quality = "æé«˜";
      fpsRange = "90-120 FPS";
      raytracing = "âœ… é«˜çº§å…‰è¿½";
      dlss = raytracingLevel !== 'None' ? "âš¡ æ”¯æŒ DLSS/FSR" : "ğŸ”§ FSR æ€§èƒ½æ¨¡å¼";
      details = `é«˜ç«¯é…ç½®ï¼ã€Šè‰¾å°”ç™»æ³•ç¯ã€‹2Kæé«˜ç”»è´¨å¯è¾¾100+ FPSï¼Œã€Šåšå¾·ä¹‹é—¨3ã€‹4Ké«˜ç”»è´¨æµç•…ï¼Œã€Šæ€ªç‰©çŒäººï¼šä¸–ç•Œã€‹2Kæé«˜è®¾ç½®120 FPSã€‚`;
    } else if (score >= 65) {
      quality = "é«˜";
      fpsRange = "60-90 FPS";
      raytracing = raytracingLevel === 'Medium' || raytracingLevel === 'High' ? "âœ… éƒ¨åˆ†å…‰è¿½" : "âš ï¸ å…³é—­å…‰è¿½";
      dlss = "ğŸ’« å»ºè®®å¼€å¯ DLSS/FSR";
      details = `ä¸»æµé…ç½®ï¼ã€Šè‰¾å°”ç™»æ³•ç¯ã€‹2Ké«˜ç”»è´¨ç¨³å®š60+ FPSï¼Œã€Šåªç‹¼ã€‹1080pæé«˜ç”»è´¨æµç•…ï¼Œå¤§éƒ¨åˆ†æ¸¸æˆ1080pé«˜ç”»è´¨å¯è¾¾90+ FPSã€‚`;
    } else if (score >= 45) {
      quality = "ä¸­é«˜";
      fpsRange = "45-60 FPS";
      raytracing = "âš ï¸ å»ºè®®å…³é—­å…‰è¿½";
      dlss = "ğŸ”§ å¼€å¯æ€§èƒ½æ¨¡å¼";
      details = `ä¸»æµå…¥é—¨é…ç½®ï¼1080pä¸­é«˜ç”»è´¨è¿è¡Œå¤§éƒ¨åˆ†æ¸¸æˆï¼Œã€Šé»‘ç¥è¯ï¼šæ‚Ÿç©ºã€‹1080pä¸­ç”»è´¨çº¦45 FPSï¼Œã€Šè‰¾å°”ç™»æ³•ç¯ã€‹1080pé«˜ç”»è´¨60 FPSã€‚`;
    } else if (score >= 30) {
      quality = "ä¸­";
      fpsRange = "30-45 FPS";
      raytracing = "âŒ ä¸æ”¯æŒå…‰è¿½";
      dlss = "âš ï¸ æ€§èƒ½ä¼˜åŒ–å¿…å¼€";
      details = `å…¥é—¨é…ç½®ï¼1080pä¸­ç”»è´¨è¿è¡Œä¸»æµæ¸¸æˆï¼Œæ¨èç©ã€ŠCS2ã€‹ã€ã€ŠDota 2ã€‹ç­‰ç«æŠ€æ¸¸æˆï¼Œæˆ–è¾ƒè€çš„3Aå¤§ä½œé™ä½ç”»è´¨ã€‚`;
    } else {
      quality = "ä½";
      fpsRange = "ä½äº30 FPS";
      raytracing = "âŒ ä¸æ”¯æŒå…‰è¿½";
      dlss = "âŒ æ€§èƒ½ä¸¥é‡å—é™";
      details = `åŸºç¡€é…ç½®ï¼å»ºè®®ç©ç‹¬ç«‹æ¸¸æˆã€åƒç´ æ¸¸æˆæˆ–è€æ¸¸æˆã€‚3Aå¤§ä½œéœ€å¤§å¹…é™ä½ç”»è´¨å’Œåˆ†è¾¨ç‡ã€‚`;
    }
    
    const hardware = `${cpuName} + ${gpuName}`;
    const resolutionText = resolution === '1080' ? '1080p' : resolution === '1440' ? '2K' : resolution === '2160' ? '4K' : 'è¶…å®½';
    
    cfgResult.innerHTML = `
      <div style="text-align:center;margin-bottom:20px;">
        <div style="font-size:72px;font-weight:900;color:${gradeInfo.color};font-family:'Orbitron',sans-serif;text-shadow: 0 0 30px ${gradeInfo.glow}, 0 0 60px ${gradeInfo.glow}; letter-spacing: 4px; line-height: 1;">${gradeInfo.grade}</div>
        <div style="font-size:16px;color:${gradeInfo.color};margin-top:8px;font-weight:600;text-shadow: 0 0 10px ${gradeInfo.glow};">${gradeInfo.desc}çº§é…ç½®</div>
        <div style="font-size:13px;color:var(--text-muted);margin-top:4px;">æ¨èç”»è´¨: <span style="color:var(--accent);font-weight:600;">${quality}</span></div>
        <div style="font-size:12px;color:var(--text-muted);margin-top:8px;font-family:'Orbitron',sans-serif;">ğŸ’» ${hardware}</div>
      </div>
      <div class="stats-grid">
        <div class="stat-item">
          <div class="stat-value" style="font-size: 18px;">${fpsRange}</div>
          <div class="stat-label">é¢„æœŸå¸§ç‡</div>
        </div>
        <div class="stat-item">
          <div class="stat-value">${resolutionText}</div>
          <div class="stat-label">ç›®æ ‡åˆ†è¾¨ç‡</div>
        </div>
        <div class="stat-item">
          <div class="stat-value">${ram}GB</div>
          <div class="stat-label">ç³»ç»Ÿå†…å­˜</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" style="color:${gradeInfo.color};font-size:24px;font-weight:900;text-shadow:0 0 10px ${gradeInfo.glow};">${gradeInfo.grade}</div>
          <div class="stat-label">ç»¼åˆè¯„çº§</div>
        </div>
      </div>
      
      <!-- ç­‰çº§è¯´æ˜æ¡ -->
      <div style="margin-top:16px;padding:12px;background:linear-gradient(90deg, rgba(136,136,136,0.1), rgba(255,136,0,0.1), rgba(255,255,0,0.1), rgba(0,204,255,0.1), rgba(0,255,136,0.1), rgba(255,170,0,0.1), rgba(255,68,68,0.1), rgba(255,0,255,0.1));border-radius:8px;">
        <div style="display:flex;justify-content:space-between;font-size:10px;font-weight:bold;font-family:'Orbitron',sans-serif;">
          <span style="color:#888888;">E</span>
          <span style="color:#ff8800;">D</span>
          <span style="color:#ffff00;">C</span>
          <span style="color:#00ccff;">B</span>
          <span style="color:#00ff88;">A</span>
          <span style="color:#ffaa00;">S</span>
          <span style="color:#ff4444;">SS</span>
          <span style="color:#ff00ff;">SSS</span>
        </div>
      </div>
      
      <div style="margin-top:16px;padding:14px;background:rgba(56,189,248,0.1);border-radius:8px;border-left:4px solid var(--accent);">
        <div style="font-size:13px;font-weight:700;color:var(--accent);margin-bottom:8px;">ğŸ¯ ${raytracing}</div>
        <div style="font-size:13px;font-weight:600;color:var(--warning);margin-bottom:8px;">âš¡ ${dlss}</div>
        <div style="font-size:13px;color:var(--text-soft);line-height:1.7;margin-top:10px;">ğŸ“Š ${details}</div>
      </div>
      <div style="margin-top:12px;padding:10px;background:rgba(255,211,0,0.05);border-radius:6px;border-left:3px solid var(--warning);">
        <div style="font-size:11px;color:var(--text-muted);line-height:1.5;">
          ğŸ’¡ æ•°æ®æ¥æºï¼šåŸºäºã€Šèµ›åšæœ‹å…‹2077ã€‹ã€ã€Šé»‘ç¥è¯ï¼šæ‚Ÿç©ºã€‹ã€ã€Šè‰¾å°”ç™»æ³•ç¯ã€‹ç­‰æ¸¸æˆçš„å®é™…æ€§èƒ½æµ‹è¯•
        </div>
      </div>
    `;
    cfgResult.classList.add('show');
  });
  
  // ç¡¬ä»¶åŒ¹é…å‡½æ•°ï¼ˆæ¨¡ç³ŠåŒ¹é…ï¼‰
  function matchHardware(input, database) {
    const inputLower = input.toLowerCase().replace(/[^a-z0-9]/g, '');
    
    // ç²¾ç¡®åŒ¹é…
    for (const [key, value] of Object.entries(database)) {
      if (key.toLowerCase().replace(/[^a-z0-9]/g, '') === inputLower) {
        return value.score;
      }
    }
    
    // éƒ¨åˆ†åŒ¹é…
    for (const [key, value] of Object.entries(database)) {
      const keyLower = key.toLowerCase().replace(/[^a-z0-9]/g, '');
      if (keyLower.includes(inputLower) || inputLower.includes(keyLower)) {
        return value.score;
      }
    }
    
    // æœªåŒ¹é…ï¼Œè¿”å›ä¸­ç­‰åˆ†æ•°
    return 60;
  }

  // =============================================
  // 2. ä»·æ ¼å¯¹æ¯”å·¥å…· - è”åŠ¨æœç´¢å¼•æ“
  // =============================================
  const priceGameSearch = document.getElementById("priceGameSearch");
  const priceSearchResults = document.getElementById("priceSearchResults");
  const priceResult = document.getElementById("priceResult");
  
  // æ‰©å±•çš„æ¸¸æˆä»·æ ¼æ•°æ®åº“ï¼ˆæ¨¡æ‹Ÿæ•°æ®ï¼‰
  const gameDatabase = [
    { id: 1, name: 'è‰¾å°”ç™»æ³•ç¯', enName: 'Elden Ring', platforms: [
      { name: 'Steam', current: 298, original: 298, discount: 0 },
      { name: 'Epic', current: 268, original: 298, discount: 10 },
      { name: 'æ‰æœ', current: 248, original: 298, discount: 17 }
    ]},
    { id: 2, name: 'èµ›åšæœ‹å…‹2077', enName: 'Cyberpunk 2077', platforms: [
      { name: 'Steam', current: 198, original: 298, discount: 33 },
      { name: 'Epic', current: 178, original: 298, discount: 40 },
      { name: 'GOG', current: 188, original: 298, discount: 37 }
    ]},
    { id: 3, name: 'åšå¾·ä¹‹é—¨3', enName: "Baldur's Gate 3", platforms: [
      { name: 'Steam', current: 298, original: 298, discount: 0 },
      { name: 'GOG', current: 278, original: 298, discount: 7 }
    ]},
    { id: 4, name: 'é»‘ç¥è¯ï¼šæ‚Ÿç©º', enName: 'Black Myth: Wukong', platforms: [
      { name: 'Steam', current: 268, original: 268, discount: 0 },
      { name: 'Epic', current: 268, original: 268, discount: 0 },
      { name: 'WeGame', current: 248, original: 268, discount: 7 }
    ]},
    { id: 5, name: 'æ˜Ÿç©º', enName: 'Starfield', platforms: [
      { name: 'Steam', current: 298, original: 328, discount: 9 },
      { name: 'Xbox Game Pass', current: 68, original: 328, discount: 79, note: 'è®¢é˜…åˆ¶' }
    ]},
    { id: 6, name: 'è’é‡å¤§é•–å®¢2', enName: 'Red Dead Redemption 2', platforms: [
      { name: 'Steam', current: 189, original: 299, discount: 37 },
      { name: 'Epic', current: 179, original: 299, discount: 40 },
      { name: 'Rockstar', current: 169, original: 299, discount: 43 }
    ]},
    { id: 7, name: 'éœæ ¼æ²ƒèŒ¨ä¹‹é—', enName: 'Hogwarts Legacy', platforms: [
      { name: 'Steam', current: 278, original: 298, discount: 7 },
      { name: 'Epic', current: 268, original: 298, discount: 10 }
    ]},
    { id: 8, name: 'æˆ˜ç¥ï¼šè¯¸ç¥é»„æ˜', enName: 'God of War RagnarÃ¶k', platforms: [
      { name: 'Steam', current: 398, original: 398, discount: 0 },
      { name: 'Epic', current: 368, original: 398, discount: 8 }
    ]},
    { id: 9, name: 'åŸç¥', enName: 'Genshin Impact', platforms: [
      { name: 'å®˜æ–¹', current: 0, original: 0, discount: 0, note: 'å…è´¹æ¸¸ç©' },
      { name: 'Epic', current: 0, original: 0, discount: 0, note: 'å…è´¹æ¸¸ç©' }
    ]},
    { id: 10, name: 'ç»åœ°æ±‚ç”Ÿ', enName: 'PUBG', platforms: [
      { name: 'Steam', current: 0, original: 98, discount: 100, note: 'å…è´¹æ¸¸ç©' }
    ]},
    { id: 11, name: 'CS2', enName: 'Counter-Strike 2', platforms: [
      { name: 'Steam', current: 0, original: 0, discount: 0, note: 'å…è´¹æ¸¸ç©' }
    ]},
    { id: 12, name: 'Dota 2', enName: 'Dota 2', platforms: [
      { name: 'Steam', current: 0, original: 0, discount: 0, note: 'å…è´¹æ¸¸ç©' }
    ]},
    { id: 13, name: 'åªç‹¼ï¼šå½±é€äºŒåº¦', enName: 'Sekiro', platforms: [
      { name: 'Steam', current: 268, original: 268, discount: 0 },
      { name: 'Epic', current: 238, original: 268, discount: 11 }
    ]},
    { id: 14, name: 'æ€ªç‰©çŒäººï¼šä¸–ç•Œ', enName: 'Monster Hunter: World', platforms: [
      { name: 'Steam', current: 158, original: 198, discount: 20 }
    ]},
    { id: 15, name: 'å·«å¸ˆ3ï¼šç‹‚çŒ', enName: 'The Witcher 3', platforms: [
      { name: 'Steam', current: 127, original: 127, discount: 0 },
      { name: 'GOG', current: 99, original: 127, discount: 22 }
    ]}
  ];
  
  let searchTimeout = null;
  let selectedGame = null;
  
  // æœç´¢æ¸¸æˆ
  priceGameSearch.addEventListener('input', (e) => {
    const query = e.target.value.trim().toLowerCase();
    
    // æ¸…é™¤ä¹‹å‰çš„å®šæ—¶å™¨
    if (searchTimeout) clearTimeout(searchTimeout);
    
    if (query.length < 1) {
      priceSearchResults.style.display = 'none';
      return;
    }
    
    // å»¶è¿Ÿæœç´¢ï¼Œé¿å…é¢‘ç¹è§¦å‘
    searchTimeout = setTimeout(() => {
      const results = gameDatabase.filter(game => 
        game.name.toLowerCase().includes(query) || 
        game.enName.toLowerCase().includes(query)
      ).slice(0, 10); // æœ€å¤šæ˜¾ç¤º10ä¸ªç»“æœ
      
      if (results.length > 0) {
        let html = '<div style="padding: 8px 0;">';
        results.forEach(game => {
          html += `
            <div class="search-result-item" data-game-id="${game.id}" style="padding: 12px 16px; cursor: pointer; transition: all 0.2s; border-bottom: 1px solid rgba(56, 189, 248, 0.1);">
              <div style="font-size: 14px; font-weight: 600; color: var(--accent);">${game.name}</div>
              <div style="font-size: 11px; color: var(--text-muted); margin-top: 2px;">${game.enName}</div>
            </div>
          `;
        });
        html += '</div>';
        priceSearchResults.innerHTML = html;
        priceSearchResults.style.display = 'block';
        
        // æ·»åŠ ç‚¹å‡»äº‹ä»¶
        document.querySelectorAll('.search-result-item').forEach(item => {
          item.addEventListener('mouseenter', function() {
            this.style.background = 'rgba(56, 189, 248, 0.1)';
          });
          item.addEventListener('mouseleave', function() {
            this.style.background = 'transparent';
          });
          item.addEventListener('click', function() {
            const gameId = parseInt(this.dataset.gameId);
            selectedGame = gameDatabase.find(g => g.id === gameId);
            priceGameSearch.value = selectedGame.name;
            priceSearchResults.style.display = 'none';
            // è‡ªåŠ¨æ˜¾ç¤ºä»·æ ¼å¯¹æ¯”
            showPriceComparison(selectedGame);
          });
        });
      } else {
        priceSearchResults.innerHTML = '<div style="padding: 16px; text-align: center; color: var(--text-muted); font-size: 13px;">æœªæ‰¾åˆ°ç›¸å…³æ¸¸æˆ</div>';
        priceSearchResults.style.display = 'block';
      }
    }, 300);
  });
  
  // ç‚¹å‡»å¤–éƒ¨å…³é—­æœç´¢ç»“æœ
  document.addEventListener('click', (e) => {
    if (!priceGameSearch.contains(e.target) && !priceSearchResults.contains(e.target)) {
      priceSearchResults.style.display = 'none';
    }
  });
  
  // æ˜¾ç¤ºä»·æ ¼å¯¹æ¯”
  function showPriceComparison(game) {
    const sortedPlatforms = [...game.platforms].sort((a, b) => a.current - b.current);
    const bestDeal = sortedPlatforms[0];
    
    let html = `
      <div style="text-align:center;margin-bottom:20px;">
        <div style="font-size:22px;font-weight:700;color:var(--accent);font-family:'Orbitron',sans-serif;">ã€Š${game.name}ã€‹</div>
        <div style="font-size:12px;color:var(--text-muted);margin-top:4px;">${game.enName}</div>
        <div style="font-size:14px;color:var(--text-muted);margin-top:8px;">æœ€ä½ä»·ï¼š<strong style="color:var(--danger);font-size:18px;">Â¥${bestDeal.current}</strong> <span style="color:var(--accent);">(${bestDeal.name})</span></div>
      </div>
      <div class="price-comparison">
    `;
    
    sortedPlatforms.forEach(platform => {
      const isBest = platform.name === bestDeal.name && platform.current > 0;
      html += `
        <div class="platform-price" style="${isBest ? 'border-color:var(--danger);box-shadow:0 0 20px rgba(239,68,68,0.3);transform:scale(1.02);' : ''}">
          ${isBest ? '<div style="position:absolute;top:-10px;left:50%;transform:translateX(-50%);background:var(--danger);color:#fff;padding:2px 12px;border-radius:12px;font-size:11px;font-weight:700;">æœ€ä¼˜æƒ </div>' : ''}
          <div class="platform-name">${platform.name}</div>
          <div class="platform-current">${platform.current === 0 ? 'å…è´¹' : 'Â¥' + platform.current}</div>
          ${platform.discount > 0 && platform.current > 0 ? `
            <div class="platform-original">åŸä»· Â¥${platform.original}</div>
            <div class="platform-discount">-${platform.discount}%</div>
          ` : ''}
          ${platform.note ? `<div style="font-size:11px;color:var(--text-muted);margin-top:6px;padding:4px 8px;background:rgba(56,189,248,0.1);border-radius:4px;">${platform.note}</div>` : ''}
        </div>
      `;
    });
    
    html += `</div>`;
    
    // æ·»åŠ ä»·æ ¼è¶‹åŠ¿æç¤º
    html += `
      <div style="margin-top:20px;padding:14px;background:rgba(56,189,248,0.05);border-radius:8px;border-left:4px solid var(--accent);">
        <div style="font-size:12px;color:var(--text-muted);line-height:1.6;">
          ğŸ’¡ <strong style="color:var(--accent);">çœé’±å°è´´å£«</strong><br/>
          â€¢ å…³æ³¨å¹³å°å¤§ä¿ƒï¼šSteamå¤å­£/å†¬å­£ç‰¹å–ã€Epicå‘¨å…ç­‰<br/>
          â€¢ å¯¹æ¯”ç¬¬ä¸‰æ–¹å¹³å°ï¼šæ‰æœã€å‡¤å‡°å•†åŸç­‰ç»å¸¸æœ‰é¢å¤–æŠ˜æ‰£<br/>
          â€¢ è®¢é˜…æœåŠ¡ï¼šXbox Game Passã€EA Playå¯å…è´¹ç•…ç©å¤§é‡æ¸¸æˆ
        </div>
      </div>
    `;
    
    priceResult.innerHTML = html;
    priceResult.classList.add('show');
  }

  // =============================================
  // 3. é€šå…³æ—¶é—´è®¡ç®—å™¨
  // =============================================
  const timeTotal = document.getElementById("timeTotal");
  const timeDaily = document.getElementById("timeDaily");
  const timeGoal = document.getElementById("timeGoal");
  const timeBtn = document.getElementById("timeBtn");
  const timeResult = document.getElementById("timeResult");

  timeBtn.addEventListener("click", () => {
    const total = parseFloat(timeTotal.value);
    const daily = parseFloat(timeDaily.value);
    const goalMultiplier = parseFloat(timeGoal.value);
    
    if (!total || !daily || total <= 0 || daily <= 0) {
      timeResult.innerHTML = "<div style='color:var(--danger);text-align:center;'>âš ï¸ è¯·æ­£ç¡®å¡«å†™æ¸¸æˆæ—¶é•¿å’Œæ¯æ—¥æ¸¸æˆæ—¶é—´</div>";
      timeResult.classList.add('show');
      return;
    }
    
    const adjustedTotal = total * goalMultiplier;
    const days = Math.ceil(adjustedTotal / daily);
    const weeks = Math.ceil(days / 7);
    const months = (days / 30).toFixed(1);
    
    let tip, emoji;
    if (days <= 3) {
      tip = "å‘¨æœ«å°±èƒ½é€šå…³ï¼";
      emoji = "âš¡";
    } else if (days <= 7) {
      tip = "ä¸€å‘¨å†…æå®šï¼Œå†²é¸­ï¼";
      emoji = "ğŸ’ª";
    } else if (days <= 14) {
      tip = "ä¸¤å‘¨æ—¶é—´ï¼Œæ…¢æ…¢äº«å—";
      emoji = "ğŸ®";
    } else if (days <= 30) {
      tip = "ä¸€ä¸ªæœˆçš„æ¸¸æˆæ—…ç¨‹";
      emoji = "ğŸ“…";
    } else if (days <= 90) {
      tip = "è¿™æ˜¯ä¸ªé•¿æœŸå·¥ç¨‹ï¼Œè®°å¾—åŠ³é€¸ç»“åˆ";
      emoji = "â°";
    } else {
      tip = "å²è¯—çº§å†’é™©ï¼Œéœ€è¦æå¤§è€å¿ƒ";
      emoji = "ğŸ†";
    }
    
    timeResult.innerHTML = `
      <div style="text-align:center;margin-bottom:16px;">
        <div style="font-size:48px;font-weight:900;color:var(--accent);font-family:'Orbitron',sans-serif;">${days}</div>
        <div style="font-size:14px;color:var(--text-muted);margin-top:4px;">å¤©</div>
      </div>
      <div class="stats-grid">
        <div class="stat-item">
          <div class="stat-value">${weeks}</div>
          <div class="stat-label">å‘¨</div>
        </div>
        <div class="stat-item">
          <div class="stat-value">${months}</div>
          <div class="stat-label">æœˆ</div>
        </div>
        <div class="stat-item">
          <div class="stat-value">${adjustedTotal.toFixed(0)}</div>
          <div class="stat-label">æ€»æ—¶é•¿(h)</div>
        </div>
      </div>
      <div style="margin-top:16px;text-align:center;font-size:16px;color:var(--accent);">
        ${emoji} ${tip}
      </div>
    `;
    timeResult.classList.add('show');
  });

  // =============================================
  // 4. ä»Šæ™šç©ä»€ä¹ˆ
  // =============================================
  const randBtn = document.getElementById("randBtn");
  const randResult = document.getElementById("randResult");
  const gamePoolEl = document.getElementById("gamePool");
  
  const allGames = [
    "è‰¾å°”ç™»æ³•ç¯", "èµ›åšæœ‹å…‹2077", "åšå¾·ä¹‹é—¨3", "æ˜Ÿç©º", "è’é‡å¤§é•–å®¢2",
    "ç©ºæ´éª‘å£«", "æ˜Ÿéœ²è°·ç‰©è¯­", "æ€æˆ®å°–å¡”", "å“ˆè¿ªæ–¯", "æ­»äº¡ç»†èƒ",
    "åŸç¥", "å´©åï¼šæ˜Ÿç©¹é“é“", "è‹±é›„è”ç›Ÿ", "Dota 2", "CS2",
    "æˆ‘çš„ä¸–ç•Œ", "æ³°æ‹‰ç‘äºš", "é¥¥è’", "åŒäººæˆè¡Œ", "èƒ¡é—¹å¨æˆ¿",
    "é»‘ç¥è¯ï¼šæ‚Ÿç©º", "æ°¸åŠ«æ— é—´", "æ€ªç‰©çŒäººï¼šä¸–ç•Œ", "æœ€ç»ˆå¹»æƒ³14", "é­”å…½ä¸–ç•Œ"
  ];
  
  let selectedGames = [];
  
  // æ¸²æŸ“æ¸¸æˆæ± 
  allGames.forEach(game => {
    const tag = document.createElement('div');
    tag.className = 'game-tag';
    tag.textContent = game;
    tag.addEventListener('click', () => {
      const index = selectedGames.indexOf(game);
      if (index > -1) {
        selectedGames.splice(index, 1);
        tag.classList.remove('selected');
      } else {
        selectedGames.push(game);
        tag.classList.add('selected');
      }
    });
    gamePoolEl.appendChild(tag);
  });
  
  let isRolling = false;
  
  randBtn.addEventListener("click", () => {
    if (selectedGames.length === 0) {
      randResult.innerHTML = "<div style='color:var(--danger);text-align:center;'>âš ï¸ è¯·å…ˆé€‰æ‹©è‡³å°‘ä¸€æ¬¾æ¸¸æˆ</div>";
      randResult.classList.add('show');
      return;
    }
    
    if (isRolling) return;
    
    isRolling = true;
    randBtn.textContent = "ğŸ² æŠ½å–ä¸­...";
    randBtn.disabled = true;
    randResult.classList.add('show');
    
    let count = 0;
    const rollInterval = setInterval(() => {
      const idx = Math.floor(Math.random() * selectedGames.length);
      randResult.innerHTML = `<div class="rolling-text">ğŸ² ${selectedGames[idx]}</div>`;
      count++;
      
      if (count >= 15) {
        clearInterval(rollInterval);
        const finalIdx = Math.floor(Math.random() * selectedGames.length);
        const game = selectedGames[finalIdx];
        randResult.innerHTML = `
          <div style="text-align:center;">
            <div style="font-size:36px;margin-bottom:12px;">ğŸ®</div>
            <div style="font-size:24px;font-weight:900;color:var(--accent);font-family:'Orbitron',sans-serif;margin-bottom:8px;">${game}</div>
            <div style="font-size:14px;color:var(--text-muted);">ä»Šæ™šå°±ç©å®ƒäº†ï¼</div>
          </div>
        `;
        randBtn.textContent = "ğŸ² å†æŠ½ä¸€æ¬¡";
        randBtn.disabled = false;
        isRolling = false;
      }
    }, 100);
  });

  // =============================================
  // 5. æ€§ä»·æ¯”åˆ†æ
  // =============================================
  const valuePrice = document.getElementById("valuePrice");
  const valueTime = document.getElementById("valueTime");
  const valueRating = document.getElementById("valueRating");
  const valueBtn = document.getElementById("valueBtn");
  const valueResult = document.getElementById("valueResult");
  
  valueBtn.addEventListener("click", () => {
    const price = parseFloat(valuePrice.value);
    const time = parseFloat(valueTime.value);
    const rating = parseFloat(valueRating.value);
    
    if (!price || !time || !rating || price <= 0 || time <= 0 || rating < 0 || rating > 10) {
      valueResult.innerHTML = "<div style='color:var(--danger);text-align:center;'>âš ï¸ è¯·æ­£ç¡®å¡«å†™æ‰€æœ‰æ•°æ®</div>";
      valueResult.classList.add('show');
      return;
    }
    
    // è®¡ç®—æ€§ä»·æ¯”æŒ‡æ•°
    const hourlyPrice = price / time;
    const ratingScore = rating / 10;
    const valueScore = (1 / hourlyPrice) * ratingScore * 100;
    
    let level, color, comment;
    if (valueScore >= 30) {
      level = "æé«˜";
      color = "#10b981";
      comment = "è¶…å€¼æ¸¸æˆï¼å¼ºçƒˆæ¨èè´­ä¹°ï¼Œæ€§ä»·æ¯”çˆ†è¡¨ï¼";
    } else if (valueScore >= 20) {
      level = "å¾ˆé«˜";
      color = "#3b82f6";
      comment = "éå¸¸å€¼å¾—è´­ä¹°ï¼Œç‰©æœ‰æ‰€å€¼çš„å¥½æ¸¸æˆï¼";
    } else if (valueScore >= 10) {
      level = "ä¸­ç­‰";
      color = "#f59e0b";
      comment = "æ€§ä»·æ¯”å°šå¯ï¼Œå¯ä»¥è€ƒè™‘æ‰“æŠ˜æ—¶å…¥æ‰‹ã€‚";
    } else if (valueScore >= 5) {
      level = "åä½";
      color = "#ef4444";
      comment = "æ€§ä»·æ¯”è¾ƒä½ï¼Œå»ºè®®ç­‰å¤§ä¿ƒæˆ–å²ä½å†ä¹°ã€‚";
    } else {
      level = "å¾ˆä½";
      color = "#991b1b";
      comment = "æ€§ä»·æ¯”å¾ˆä½ï¼Œä¸å¤ªæ¨èè´­ä¹°ã€‚";
    }
    
    valueResult.innerHTML = `
      <div style="text-align:center;margin-bottom:16px;">
        <div style="font-size:48px;font-weight:900;color:${color};font-family:'Orbitron',sans-serif;">${valueScore.toFixed(1)}</div>
        <div style="font-size:14px;color:var(--text-muted);margin-top:4px;">æ€§ä»·æ¯”æŒ‡æ•°</div>
      </div>
      <div class="stats-grid">
        <div class="stat-item">
          <div class="stat-value">Â¥${hourlyPrice.toFixed(2)}</div>
          <div class="stat-label">æ¯å°æ—¶æˆæœ¬</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" style="color:${color};">${level}</div>
          <div class="stat-label">æ€§ä»·æ¯”ç­‰çº§</div>
        </div>
        <div class="stat-item">
          <div class="stat-value">${(time / price).toFixed(1)}</div>
          <div class="stat-label">æ—¶é•¿/ä»·æ ¼æ¯”</div>
        </div>
      </div>
      <div style="margin-top:16px;padding:12px;background:rgba(56,189,248,0.1);border-radius:6px;text-align:center;">
        <div style="font-size:14px;color:var(--text-soft);line-height:1.6;">${comment}</div>
      </div>
    `;
    valueResult.classList.add('show');
  });
</script>
</body>
</html>
